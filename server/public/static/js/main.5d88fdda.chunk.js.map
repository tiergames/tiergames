{"version":3,"sources":["services/auth.service.js","services/games.service.js","pages/Public/Home/Home.jsx","pages/Auth/Login/Login.jsx","pages/Auth/Signup/Signup.jsx","pages/Auth/AccountConfirm/AccountConfirm.jsx","pages/Auth/ForgotPassword/ForgotPassword.jsx","pages/Auth/ResetPassword/ResetPassword.jsx","services/profile.service.js","pages/errors/Error404/Error404.jsx","services/reviews.service.js","components/ReviewTile/ReviewTile.jsx","pages/private/Profile/Profile.jsx","pages/private/LoggedInUserProfile/LoggedInUserProfile.jsx","services/genres.service.js","services/platforms.service.js","components/PlatformTag/PlatformTag.jsx","components/PlatformsTags/PlatformsTags.jsx","components/GenreTag/GenreTag.jsx","components/GenresTags/GenresTags.jsx","pages/private/Platforms/Platforms.jsx","pages/private/Games/Games.jsx","pages/private/Genres/Genres.jsx","pages/private/Reviews/CreateReview/CreateReview.jsx","pages/private/Game/Game.jsx","services/reviewComments.service.js","pages/private/Reviews/Review/Review.jsx","pages/private/Saved/Saved.jsx","pages/private/Room/Room.jsx","assets/icons/rocket.svg","assets/icons/home.svg","assets/icons/star.svg","assets/icons/saved.svg","assets/icons/user.svg","components/Navbar/Navbar.jsx","pages/private/BestRated/BestRated.jsx","pages/private/ComingSoon/ComingSoon.jsx","pages/private/Reviews/Reviews.jsx","components/SearchBar/SearchBar.jsx","services/search.service.js","App.js","serviceWorker.js","index.js"],"names":["AuthService","signup","username","email","password","service","post","then","response","data","login","confirmAccount","token","forgotPassword","resetPassword","updatePassword","loggedin","get","logout","this","axios","create","baseURL","process","withCredentials","GamesService","getGames","limit","offset","a","allGames","follow","gameID","followerID","put","followRequest","unfollow","unfollowRequest","getBestRated","order","bestRatedGames","getGameName","gameName","getGameCover","gameCoverUrl","getReleases","period","fromDays","toDays","from","Math","round","Date","setDate","getDate","to","allReleases","getGameData","gameData","getGamesPerGenre","genre","gamesPerGenre","getGamesPerPlatform","platforms","gamesPerPlatform","getGamesPerPlatformAndGenre","genres","gamesPerPlatformAndGenre","gateRelatedGames","relatedGamesArray","relatedGames","getAlternativeNames","alternativeNames","getRelationedContent","collectionID","relationedContent","getInvolvedCompanies","companies","involvedCompanies","getReleaseDates","releaseID","releaseDates","getWebsites","websitesID","websites","Component","Login","props","state","className","href","onSubmit","e","handleFormSubmit","placeholder","type","name","value","onChange","handleChange","id","error","newState","target","setState","preventDefault","setUser","history","push","catch","withRouter","Signup","htmlFor","AccountConfirm","isActive","undefined","confirmationToken","match","params","status","console","message","updateAccountStatus","ForgotPassword","submitted","err","ResetPassword","isMatch","updated","redirect","resetPasswordToken","setTimeout","checkPasswordToken","ProfileService","getProfile","userProfile","followed","follower","ReviewsService","getReviewData","reviewID","reviewData","getReviews","reviews","getReviewsPerUser","userID","reviewsPerUser","getReviewsPerPlatform","platformID","reviewsPerPlatform","getReviewsPerGame","reviewsPerGame","deleteReview","delete","deletedReview","getRelationatedReviews","currentReviewID","relationatedReviews","createReview","reviewCreated","reviewFollowRequest","reviewUnfollowRequest","ReviewTile","gamesService","isLoadingGameTitle","gameTile","src","coverUrl","totalRating","title","author","loadGameName","loadGameCover","newGameTile","replace","Profile","profileService","reviewsService","socket","io","isLoadingUserProfile","userReviews","isLoadingUserReviews","renderUserProfile","renderUserReviews","loadUserProfile","followers","indexOf","loggedInUser","_id","onClick","handleUnfollowUser","handleFollowUser","length","map","review","key","newUserProfile","emit","alert","unfollowed","loadUserReviews","LoggedInUserProfile","handleLogout","renderFollowers","following","renderFollowing","userFollowed","GenresService","getAllGenres","allGenres","PlatformsService","PlatformTag","platform","checked","inputNameAttr","PlatformsTags","platformsSelected","selectedPlatforms","newPlatformsSelected","pop","handlePlatformFilterChange","includes","GenreTag","GenresTags","genresSelected","selectedGenres","newGenresSelected","genreSelected","handleGenreFilterChange","Platform","_isMounted","platformsFiltered","isLoadingPlatforms","currentPlatform","allPlatforms","Games","onGenreFilterChange","platformFilter","onPlatformFilterChange","GameService","genresService","platformsService","queryParams","queryString","parse","window","location","search","pagination","currentPage","games","renderFilters","renderGames","isLoadingGames","nextPage","nextOffset","nextNewGames","newGames","newPagination","isLoadingGenres","currentGenre","onFilterApply","game","Genres","CreateReview","content","rating","graphics","sound","gameplay","pros","cons","isLoadingGameName","handleCreateReviewFormSubmit","disabled","handleInputChange","handleSelectInputChange","created","category","Game","isLoadingGame","log","savedGames","handleFollowRequest","handleUnfollowRequest","renderGame","loadGame","nextProps","renderHeader","renderIAmFollowing","summary","renderSummary","storyline","renderStoryLine","game_modes","renderGameModes","renderGameGenres","screenshots","renderScreenshots","videos","renderVideos","release_dates","renderReleaseDates","renderWebsites","similar_games","renderSimilarGames","cover","url","alt","renderPlatforms","total_rating","toFixed","slug","gameMode","involved_companies","company","screenshot","video","video_id","frameBorder","allow","allowFullScreen","format","first_release_date","releaseDate","date","website","similarGame","reRender","ReviewCommentsService","loadComments","comments","addComment","comment","makeCommentResult","Review","reviewCommentsService","gameCoverURL","isLoadingCover","isLoadingReview","authorID","loggedInUserID","isLoadingComments","renderReview","loadReviewData","newComments","pagcurrentPage","loggedInUserName","handleUnfollowReview","handleFollowReview","renderComments","handleCommentChange","reviewFollowRequestDone","newReview","reviewFollow","reviewUnfollowRequestDone","newComment","commentAdded","commentCreated","unshift","Saved","savedReviews","isLoadingSavedReviews","isLoadingSavedGames","renderSavedReviews","loadSavedReviews","savedReview","Room","currentOnlineUsers","messages","onlineUser","idx","room","on","newMessages","off","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","fillRule","d","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","transform","cx","cy","r","Navbar","authService","BestRated","bestRated","ComingSoon","releases","render7DaysAgo","render7Days","render14Days","render1Month","render6Months","render1Year","releases7DaysAgo","isLoading7DaysAgo","release","toDateString","releases7Days","isLoading7Days","releases14Days","isLoading14Days","releases1Month","isLoading1Month","releases6Months","isLoading6Months","releases1Year","isLoading1Year","Reviews","renderReviews","isLoadingReviews","reviewsFiltered","handleLoadMore","SearchBar","hasFocus","handleSearchSubmit","autoComplete","updateSearchText","onFocus","openSearchResults","closeSearchResults","renderSearchResults","makeSearch","renderGamesResults","renderReviewsResults","renderUsersResults","isSearchingGames","gamesResults","gameResult","isSearchingReviews","reviewsResults","reviewResult","users","isSearchingUsers","usersResults","userResult","SearchService","makeGamesSearch","searchText","gamesSearchResults","makeReviewsSearch","reviewsSearchResults","makeUsersSearch","usersSearchResults","App","userObj","searchService","genresFiltered","gamesFiltered","currentGame","isLoadingBestRated","currentReviewFilter","isSearching","newFollower","fetchUser","routes","exact","path","component","platformsFilter","genresFilter","applyGameFilter","render","loadReviews","userInSession","text","route","loadPlatforms","loadGenres","loadGames","loadBestRated","loadReleases","gameFollowRequestDone","updatedLoggedInUser","gameUnfollowRequestDone","newLoggedInUser","newPlatforms","newGenres","newReviews","concat","newSearch","statePeriod","isLoadingKey","released","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5d88fdda.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport default class AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/auth`,\n      withCredentials: true\n    })\n  }\n\n  signup = (username, email, password) => {\n    return this.service.post(\"/signup\", {username, email, password})\n      .then(response => response.data)\n  }\n\n  login = (username, password) => {\n    return this.service.post(\"/login\", {username, password})\n      .then(response => response.data)\n  }\n\n  confirmAccount = (token) => {\n    return this.service.post(`/confirm/${token}`)\n      .then(response => response.data)\n  }\n\n  forgotPassword = (email) => {\n    return this.service.post(\"/forgot-password\", {email})\n      .then(response => response.data)\n  }\n\n  resetPassword = (token) => {\n    return this.service.post(`/reset-password/${token}`)\n      .then(response => response.data)\n  }\n\n  updatePassword = (password, token) => {\n    return this.service.post(`/update-password/${token}`, {password})\n      .then(response => response.data)\n  }\n\n  loggedin = () => {\n    return this.service.get(\"/currentuser\")\n      .then(response => response.data)\n  }\n\n  logout = () => {\n    return this.service.get('/logout',)\n      .then(response => response.data)\n  }\n}","import axios from \"axios\";\n\nexport default class GamesService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/games`\n    });\n  }\n\n  getGames = async (limit, offset) => {\n    let allGames = await this.service.get(`?offset=${offset}&limit=${limit}`);\n    return allGames;\n  };\n\n  follow = async (gameID, followerID) => {\n    let followRequest = await this.service.put(\"/follow\", { gameID, followerID })\n    return followRequest.data\n  }\n\n  unfollow = async (gameID, followerID) => {\n    let unfollowRequest = await this.service.put(\"/unfollow\", { gameID, followerID })\n    return unfollowRequest.data\n  }\n\n  getBestRated = async (limit, offset, order) => {\n    let bestRatedGames = await this.service.get(`?offset=${offset}&limit=${limit}&sorting=rating&order=${order}`);\n    return bestRatedGames;\n  }\n\n  getGameName = async (gameID) => {\n    let gameName = await this.service.get(`/game-name/${gameID}`)\n    return gameName.data\n  }\n\n  getGameCover = async (gameID) => {\n    let gameCoverUrl = await this.service.get(`/game-cover/${gameID}`)\n    return gameCoverUrl.data\n  }\n\n  getReleases = async (limit, offset, period, order) => {\n    let from, to;\n    let fromDays, toDays;\n\n    switch (period) {\n      case 1: fromDays = -7;  toDays = 0;   break; // a week ago\n      case 2: fromDays = 0;   toDays = 7;   break; // next week\n      case 3: fromDays = 7;   toDays = 14;  break; // next 2 weeks\n      case 4: fromDays = 14;  toDays = 30;  break; // next 30 days (month)\n      case 5: fromDays = 30;  toDays = 180; break; // next 6 months\n      case 6: fromDays = 180; toDays = 365; break; // next 1 year\n    }\n\n    from = Math.round(new Date().setDate(new Date().getDate() + fromDays) / 1000);\n    to = Math.round(new Date().setDate(new Date().getDate() + toDays) / 1000);\n\n    let allReleases = await this.service.get(\n      `?offset=${offset}&limit=${limit}&from=${from}&to=${to}&sorting=first_release_date&order=${order}`\n    );\n    return allReleases;\n  };\n\n  getGameData = async (gameID) => {\n    let gameData = await this.service.get(`/${gameID}`)\n    return gameData.data\n  }\n\n  getGamesPerGenre = async (genre) => {\n    let gamesPerGenre = await this.service.get(`/?genres=${genre}`)\n    return gamesPerGenre.data\n  }\n\n  getGamesPerPlatform = async (platforms) => {\n    let gamesPerPlatform = await this.service.get(`/?platforms=${platforms}`)\n    return gamesPerPlatform.data\n  }\n\n  getGamesPerPlatformAndGenre = async (limit, offset, platforms, genres) => {\n    let gamesPerPlatformAndGenre = await this.service.get(`/?platforms=${platforms}&genres=${genres}&offset=${offset}&limit=${limit}`)\n    return gamesPerPlatformAndGenre.data\n  }\n\n  gateRelatedGames = async (relatedGamesArray) => {\n    let relatedGames = await this.service.get(`/related/${relatedGamesArray}`)\n    return relatedGames.data\n  }\n\n  getAlternativeNames = async (gameID) => {\n    let alternativeNames = await this.service.get(`/alternative-names/${gameID}`)\n    return alternativeNames.data\n  }\n\n  getRelationedContent = async (collectionID) => {\n    let relationedContent = await this.service.get(`/related-content/${collectionID}`)\n    return relationedContent.data\n  }\n\n  getInvolvedCompanies = async (companies) => {\n    let involvedCompanies = await this.service.get(`/involved-companies/${companies}`)\n    return involvedCompanies.data\n  }\n\n  getReleaseDates = async (releaseID) => {\n    let releaseDates = await this.service.get(`/release-dates/${releaseID}`)\n    return releaseDates.data\n  }\n\n  getWebsites = async (websitesID) => {\n    let websites = await this.service.get(`/websites/${websitesID}`)\n    return websites.data\n  }\n}\n","import React, { Component } from 'react'\nimport GamesService from '../../../services/games.service';\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.service = new GamesService();\n\n    this.state = {\n      releases: props.releases\n    };\n  }\n\n  render() {\n    return (\n      <section className=\"landing\">\n        {this.render7DaysAgo()}\n        {this.render7Days()}\n        {this.render14Days()}\n        {this.render1Month()}\n        {this.render6Months()}\n        {this.render1Year()}\n      </section>\n    );\n  }\n\n  render7DaysAgo() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Recently released</h2>\n\n        {\n          <ul>\n            {this.props.releases.releases7DaysAgo.isLoading7DaysAgo ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases7DaysAgo.releases7DaysAgo.length >\n              0 ? (\n              this.props.releases.releases7DaysAgo.releases7DaysAgo.map(\n                release => {\n                  return (\n                    <li key={release.id}>\n                      {`${release.name} (${new Date(\n                        release.first_release_date * 1000\n                      ).toDateString()})`}\n                    </li>\n                  );\n                }\n              )\n            ) : (\n              <p>No recent releases</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render7Days() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Next 7 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases7Days.isLoading7Days ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases7Days.releases7Days.length > 0 ? (\n              this.props.releases.releases7Days.releases7Days.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No recent releases</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render14Days() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Next 14 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases14Days.isLoading14Days ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases14Days.releases14Days.length > 0 ? (\n              this.props.releases.releases14Days.releases14Days.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 14 days</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render1Month() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Next 30 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases1Month.isLoading1Month ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases1Month.releases1Month.length > 0 ? (\n              this.props.releases.releases1Month.releases1Month.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 30 days</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render6Months() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Next 6 months</h2>\n        {\n          <ul>\n            {this.props.releases.releases6Months.isLoading6Months ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases6Months.releases6Months.length >\n              0 ? (\n              this.props.releases.releases6Months.releases6Months.map(game => {\n                return (\n                  <li key={game.id}>\n                    {`${game.name} (${new Date(\n                      game.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 6 months</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render1Year() {\n    return (\n      <section>\n        <h2 className=\"section-title\">Next year</h2>\n        {\n          <ul>\n            {this.props.releases.releases1Year.isLoading1Year ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases1Year.releases1Year.length > 0 ? (\n              this.props.releases.releases1Year.releases1Year.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for next year</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport AuthService from './../../../services/auth.service'\nimport {withRouter} from 'react-router'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n    this.service = new AuthService()\n    this.state = {\n      username: '',\n      password: '',\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"home\">\n        <div className=\"account-question\">\n          <p>Don't you have an account? <Link to={\"/signup\"}>Join us</Link></p>\n        </div>\n        <div className=\"social-login\">\n          {/* TODO: Check routes */}\n          <a href={`${process.env.REACT_APP_SERVER_BASE_URL}/api/auth/facebook`}>Login with Facebook</a>\n          <a href={`${process.env.REACT_APP_SERVER_BASE_URL}/api/auth/google`}>Login With Google</a>\n        </div>\n        <form onSubmit={e => this.handleFormSubmit(e)} className=\"home-form\">\n          <div className=\"field\">\n            <input placeholder=\"Username\" type=\"text\" name=\"username\" value={this.state.username} onChange={e => this.handleChange(e)} id=\"login-username\" className=\"input\"/>\n            {/* <label htmlFor=\"login-username\" className=\"label\">Username</label> */}\n          </div>\n          <div className=\"field\">\n            <input placeholder=\"password\" type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.handleChange(e)} id=\"login-password\" className=\"input\"/>\n            {/* <label htmlFor=\"login-password\" className=\"label\">Password</label> */}\n          </div>\n          <div className=\"form-actions\">\n            <input type=\"submit\" value=\"Login to your account\"/>\n          </div>\n        </form>\n\n        <h4>{this.state.error ? 'Error' : ''}</h4>\n      </section>\n    )\n  }\n\n  handleChange(e) {\n    const newState = {...this.state}\n    newState[e.target.name] = e.target.type === \"number\" ? +e.target.value : e.target.value\n    this.setState(newState)\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault()\n    const {username, password} = this.state\n    this.service.login(username, password)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          username: \"\",\n          password: \"\",\n          error: false\n        })\n        this.props.setUser(response)\n        this.props.history.push(\"/\")\n      })\n      .catch(error => {\n        this.setState({\n          ...this.state,\n          username: username,\n          password: \"\",\n          error: true\n        })\n      })\n  }\n}\n\nexport default withRouter(Login)\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport AuthService from './../../../services/auth.service'\nimport {withRouter} from 'react-router'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props)\n    this.service = new AuthService()\n    this.state = {\n      username: '',\n      email: '',\n      password: ''\n    }\n  }\n  \n  render() {\n    return (\n      <section className=\"home-form\">\n        <h2>Signup</h2>\n        <div className=\"account-question\">\n          <p>Already have an account? <Link to={\"/login\"}>Login</Link></p>\n        </div>\n        <form onSubmit={e => this.handleFormSubmit(e)}>\n          <div className=\"field\">\n            <input type=\"text\" name=\"username\" id=\"username\" onChange={e => this.handleChange(e)} className=\"input\"/>\n            <label htmlFor=\"username\" className=\"label\">Username</label>\n          </div>\n          <div className=\"field\">\n            <input type=\"email\" name=\"email\" id=\"email\" onChange={e => this.handleChange(e)} className=\"input\"/>\n            <label htmlFor=\"email\" className=\"label\">Email</label>\n          </div>\n          <div className=\"field\">\n            <input type=\"password\" name=\"password\" id=\"password\" onChange={e => this.handleChange(e)} className=\"input\"/>\n            <label htmlFor=\"password\" className=\"label\">Password</label>\n          </div>\n          <div className=\"form-actions\">\n            <input type=\"submit\" value=\"Singup\"/>\n          </div>\n        </form>\n        \n        <h4>{this.state.error ? 'Error' : ''}</h4>\n      </section>\n    )\n  }\n\n  handleChange = (e) => {\n    const newState = {...this.state}\n    newState[e.target.name] = e.target.type === \"number\" ? +e.target.value : e.target.value\n    this.setState(newState)\n  }\n\n  handleFormSubmit = (e) => {\n    e.preventDefault()\n    const {username, password, email} = this.state\n    this.service.signup(username, email, password)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          username: \"\",\n          password: \"\",\n          email: \"\",\n          error: false\n        })\n        this.props.setUser(response)\n        this.props.history.push(\"/\")\n      })\n      .catch(error => {\n        this.setState({\n          ...this.state,\n          username: username,\n          password: \"\",\n          email: \"\",\n          error: true\n        })\n      })\n  }\n}\n\nexport default withRouter(Signup)","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AuthService from \"./../../../services/auth.service\";\n\nexport default class AccountConfirm extends Component {\n  constructor(props) {\n    super(props);\n    this.service = new AuthService();\n\n    this.state = {\n      isActive: undefined\n    };\n  }\n\n  render() {\n    return (\n      <section>\n        {this.state.isActive === true && (\n          <>\n            <h3>Account activated!</h3>\n            <Link to={\"/login\"}>Login now!</Link>\n          </>\n        )}\n        {this.state.isActive === false && (\n          <>\n          <h3>The account couldn't be activated</h3>\n          <p>The token to activate your account is incorrect</p>\n          </>\n        )}  \n      </section>\n    );\n  }\n\n  async updateAccountStatus() {\n    try {\n      const { confirmationToken } = this.props.match.params;\n      const checktoken = await this.service.confirmAccount(confirmationToken);\n\n      this.setState({ isActive: true });\n    } catch (err) {\n      const { status, data } = err.response;\n\n      if (status === 404 && data.status === 'CONFIRMATION_USER_NOT_FOUND') {\n        this.setState({ isActive: false });\n      }\n      \n      console.error(err.message);\n    }\n  }\n\n  async componentDidMount() {\n    this.updateAccountStatus(this.props.match.params.confirmationToken);\n  }\n}\n","import React, { Component } from \"react\";\nimport AuthService from \"./../../../services/auth.service\";\n\nexport default class ForgotPassword extends Component {\n  constructor() {\n    super();\n    this.service = new AuthService();\n\n    this.state = {\n      email: \"\",\n      submitted: false\n    };\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n\n    const { email } = this.state;\n    this.service\n      .forgotPassword(email)\n      .then(() => {\n        this.setState({\n          email: \"\",\n          submitted: true,\n        });\n\n      })\n      .catch(err => {\n        const { status, data } = err.response;\n        \n        if (status === 404 && data.status === 'FORGOT-PASSWORD_USER_NOT_FOUND') {\n          this.setState({ email: \"\", submitted: true });\n        }\n        \n        console.error(err.message);\n      });\n  }\n\n  render() {\n    return (\n      <section className=\"forgot-password\">\n        <h2>Forgot your password?</h2>\n\n        {!this.state.submitted && (\n          <>\n            <p>\n              Please write down below the e-mail address you registered with\n              Tier\n            </p>\n            <form onSubmit={e => this.handleFormSubmit(e)}>\n              <div className=\"field\">\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"email\"\n                  value={this.state.email}\n                  onChange={e => this.handleChange(e)}\n                  className=\"input\"\n                />\n              </div>\n\n              <div className=\"form-actions\">\n                <input type=\"submit\" value=\"Confirm\" />\n              </div>\n            </form>\n          </>\n        )}\n        {this.state.submitted && (\n          <>\n            <h4>\n              If a user with that email exist, a password reset will be e-mailed\n              to you\n            </h4>\n            <small>\n              (Don't forget to check your spam folder or resend the email)\n            </small>\n          </>\n        )}\n      </section>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Redirect } from 'react-router';\nimport AuthService from \"./../../../services/auth.service\";\n\nexport default class ResetPassword extends Component {\n  constructor(props) {\n    super(props);\n    this.service = new AuthService();\n\n    this.state = {\n      isMatch: undefined,\n      password: \"\",\n      updated: false,\n      redirect: false\n    };\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    this.updatePassword();\n  }\n\n  render() {\n    return (\n      <section>\n        <h2>Reset password</h2>\n\n        {this.state.isMatch === true && !this.state.updated && <h3>Token match!</h3>}\n\n        {!this.state.updated && (\n          <>\n            <h4>Generate a new password</h4>\n\n            <form onSubmit={e => this.handleFormSubmit(e)}>\n              <div className=\"field\">\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  value={this.state.password}\n                  onChange={e => this.handleChange(e)}\n                  className=\"input\"\n                />\n              </div>\n\n              <div className=\"form-actions\">\n                <input type=\"submit\" value=\"Confirm\" />\n              </div>\n            </form>\n\n            <h4>{this.state.message}</h4>\n            <h4>{this.state.error ? \"Error\" : \"\"}</h4>\n          </>\n        )}\n\n        {this.state.isMatch === false && (\n            <h3>The token to reset your password is incorrect or has expired</h3>\n        )}\n\n        {this.state.updated === true && (\n          <>\n            <h3>Password successfully updated</h3>\n            <span>Please wait...</span>\n          </>\n        )}\n\n        {this.state.redirect && <Redirect to=\"/login\" />}\n      </section>\n    );\n  }\n\n  async checkPasswordToken() {\n    try {\n      const { resetPasswordToken } = this.props.match.params;\n      const checkToken = await this.service.resetPassword(resetPasswordToken);\n\n      this.setState({ isMatch: true, error: false });\n\n    } catch (err) {\n      const { status, data } = err.response;\n\n      if (status === 404 && data.status === \"RESET-PASSWORD_TOKEN_NOT_FOUND_OR_EXPIRED\") {\n        this.setState({ isMatch: false, error: true });\n      }\n\n      console.error(err.message);\n    }\n  }\n\n  async updatePassword() {\n    const { resetPasswordToken } = this.props.match.params;\n    const { password } = this.state;\n\n    try {\n      const response = await this.service.updatePassword(\n        password,\n        resetPasswordToken\n      );\n\n      this.setState({\n        password: \"\",\n        updated: true,\n        error: false\n      });\n\n      setTimeout(() => {\n        this.setState({\n          redirect: true\n        });\n      }, 2500);\n\n    } catch (err) {\n      const { status, data } = err.response;\n        \n        if (status === 500 && data.status === 'UPDATE-PASSWORD_FAILED') {\n          this.setState({ password: \"\", error: true, updated: false });\n        }\n        \n        console.error(err.message);\n    }\n  }\n\n  async componentDidMount() {\n    this.checkPasswordToken(this.props.match.params.resetPasswordToken);\n  }\n}\n","import axios from 'axios'\n\nexport default class ProfileService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/profile`\n    })\n  }\n  \n  getProfile = async (username) => {\n    let userProfile = await this.service.get(`/${username}`)\n    return userProfile.data\n  }\n\n  follow = async (followed, follower) => {\n    let followRequest = await this.service.put(\"/follow\", { followed, follower })\n    return followRequest.data\n  }\n\n  unfollow = async (followed, follower) => {\n    let unfollowRequest = await this.service.put(\"/unfollow\", { followed, follower })\n    return unfollowRequest.data\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class Error404 extends Component {\n  render() {\n    return (\n      <div>\n        <h1>404 Page not found</h1>\n      </div>\n    )\n  }\n}\n","import axios from 'axios'\n\nexport default class ReviewsService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/reviews`\n    })\n  }\n\n  getReviewData = async (reviewID) => {\n    let reviewData = await this.service.get(`/${reviewID}`)\n    return reviewData.data\n  }\n\n  getReviews = async (offset, limit) => {\n    let reviews = await this.service.get(`?limit=${limit}&offset=${offset}`)\n    return reviews.data\n  }\n\n  getReviewsPerUser = async (userID) => {\n    let reviewsPerUser = await this.service.get(`/user/${userID}`)\n    return reviewsPerUser.data\n  }\n\n  getReviewsPerPlatform = async (offset, limit, platformID) => {\n    let reviewsPerPlatform = await this.service.get(`/${platformID}`)\n    return reviewsPerPlatform\n  }\n\n  getReviewsPerGame = async (gameID) => {\n    let reviewsPerGame = await this.service.get(`/game/${gameID}`)\n    return reviewsPerGame.data\n  }\n\n  deleteReview = async (reviewID) => {\n    let deletedReview = await this.service.delete(`/delete/${reviewID}`)\n    return deletedReview.data\n  }\n\n  getRelationatedReviews = async (gameID, currentReviewID) => {\n    let relationatedReviews = await this.service.get(`/relationated/${gameID}/${currentReviewID}`)\n    return relationatedReviews.data\n  }\n\n  createReview = async (reviewData) => {\n    let reviewCreated = await this.service.post('/add', reviewData)\n    return reviewCreated.data\n  }\n\n  follow = async (reviewID, followerID) => {\n    let reviewFollowRequest = await this.service.put(\"/follow\", { reviewID, followerID })\n    return reviewFollowRequest.data\n  }\n\n  unfollow = async (reviewID, followerID) => {\n    let reviewUnfollowRequest = await this.service.put(\"/unfollow\", { reviewID, followerID })\n    return reviewUnfollowRequest.data\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport GamesService from '../../services/games.service'\n\nexport default class ReviewTile extends Component {\n  constructor(props) {\n    super(props)\n    this.gamesService = new GamesService()\n    this.state = {\n      isLoadingGameTitle: true,\n      gameTile: this.props.gameTile\n    }\n  }\n  \n  render() {\n    return (\n      <article className=\"review-tile\">\n        <div className=\"review-tile-game-cover\">\n          {\n            this.state.isLoadingGameTitle\n              ? null\n              : <img src={`http:${this.state.gameTile.coverUrl}`} />\n          }\n        </div>\n        <div className=\"review-tile-content\">\n          <div className=\"review-tile-rating\">\n            <p>{this.state.gameTile.totalRating}</p>\n          </div>\n          <div className=\"review-title-resume\">\n            <h2>{this.state.gameTile.title}</h2>\n            {this.state.isLoadingGameTitle\n              ?\n                <p>Loading game title...</p>\n              :\n                <p>{this.state.gameTile.name}</p>\n            }\n            <p>by <Link to={`/profile/${this.state.gameTile.author.username}`}>{this.state.gameTile.author.username}</Link></p>\n          </div>\n        </div>\n      </article>\n    )\n  }\n\n  async componentDidMount() {\n    this.loadGameName()\n    this.loadGameCover()\n  }\n\n  async loadGameName () {\n    let gameName = await this.gamesService.getGameName(this.state.gameTile.gameID)\n    let newGameTile = {...this.state.gameTile}\n    newGameTile.name = gameName.name\n    this.setState({\n      ...this.state,\n      gameTile: newGameTile,\n      isLoadingGameTitle: false\n    })\n  }\n\n  async loadGameCover () {\n    let gameCoverUrl = await this.gamesService.getGameCover(this.state.gameTile.gameID)\n    gameCoverUrl = gameCoverUrl.replace('thumb', 'screenshot_med')\n    let newGameTile = {...this.state.gameTile}\n    newGameTile.coverUrl = gameCoverUrl\n    this.setState({\n      ...this.state,\n      gameTile: newGameTile\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport io from 'socket.io-client'\nimport ProfileService from '../../../services/profile.service'\nimport ReviewsService from '../../../services/reviews.service'\nimport ReviewTile from '../../../components/ReviewTile/ReviewTile'\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props)\n    this.profileService = new ProfileService()\n    this.reviewsService = new ReviewsService()\n    this.socket = io(`${process.env.REACT_APP_SERVER_BASE_URL}`)\n    this.state = {\n      userProfile: {},\n      isLoadingUserProfile: true,\n      userReviews: [],\n      isLoadingUserReviews: true\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {\n          this.state.isLoadingUserProfile\n            ? <p>Loading user profile...</p>\n            : this.renderUserProfile()\n        }\n        {this.renderUserReviews()}\n      </>\n    )\n  }\n\n  componentDidMount() {\n    let username = this.props.match.params.username\n    this.loadUserProfile(username)\n  }\n\n  renderUserProfile() {\n    return (\n      <section className=\"other-profile\">\n        <h2>{this.state.userProfile.username}</h2>\n        {\n          this.state.userProfile.followers.indexOf(this.props.loggedInUser._id) >= 0\n            ? <button className=\"button\" onClick={() => this.handleUnfollowUser(this.state.userProfile)}>Unfollow</button>\n            : <button className=\"button\" onClick={() => this.handleFollowUser(this.state.userProfile)}>Follow</button>\n        }\n      </section>\n    )\n  }\n\n  renderUserReviews() {\n    return (\n      <section className=\"user-reviews\">\n        <h2>{this.state.isLoadingUserProfile ? 'user' : this.state.userProfile.username}'s reviews ({!this.state.isLoadingUserReviews ? this.state.userReviews.length : 'loading...'})</h2>\n        {\n          this.state.userReviews.length > 0\n            ?\n              <ul>\n                {this.state.userReviews.map(review => {\n                  return (\n                    <Link to={`/reviews/${review._id}`} key={review._id}>\n                      <ReviewTile gameTile={review} />\n                    </Link>\n                  )\n                })}\n              </ul>\n            :\n              this.state.isLoadingUserReviews\n                ? <p>Loading reviews...</p>\n                : <p>You don't have any saved reviews.</p>\n        }\n      </section>\n    )\n  }\n\n  async handleFollowUser(followed) {\n    let followRequest = await this.profileService.follow(followed, this.props.loggedInUser)\n    if (followRequest.followRequest) {\n      let newUserProfile = {...this.state.userProfile}\n      newUserProfile.followers = followRequest.followed.followers\n      this.setState({ ...this.state, userProfile: newUserProfile })\n      this.socket.emit('new-follower', {\n        follower: {\n          _id: this.props.loggedInUser._id,\n          username: this.props.loggedInUser.username\n        },\n        followed: {\n          _id: followed._id\n        }\n      })\n    } else {\n      alert('Something went wrong')\n    }\n  }\n\n  async handleUnfollowUser(followed) {\n    let unfollowRequest = await this.profileService.unfollow(followed, this.props.loggedInUser)\n    if (unfollowRequest.unfollowRequest) {\n      let newUserProfile = {...this.state.userProfile}\n      newUserProfile.followers = unfollowRequest.unfollowed.followers\n      this.setState({ ...this.state, userProfile: newUserProfile })\n    }\n  }\n\n  async loadUserProfile(username) {\n    let userProfile = await this.profileService.getProfile(username)\n    this.setState({\n      ...this.state,\n      userProfile: userProfile.userProfile,\n      isLoadingUserProfile: false\n    })\n    this.loadUserReviews()\n  }\n\n  async loadUserReviews() {\n    let userReviews = await this.reviewsService.getReviewsPerUser(this.state.userProfile._id)\n    this.setState({ ...this.state, userReviews: userReviews, isLoadingUserReviews: false })\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default class LoggedInUserProfile extends Component {\n  constructor(props) {\n    super()\n  }\n\n  render() {\n    \n    return (\n      <div>\n        \n        <h1 className=\"section-title\">My profile</h1>\n        {/* <Link to={\"/logout\"}>Logout</Link> */}\n        <Link to={\"/logout\"} onClick={this.handleLogout}>Logout</Link>\n        <p><strong>Username: </strong>{this.props.loggedInUser.username} </p>\n        <section className=\"followers\">\n          <h2>Followers ({this.props.loggedInUser.followers.length})</h2>\n          {this.renderFollowers()}\n        </section>\n        <section className=\"following\">\n          <h2>Following ({this.props.loggedInUser.following.length})</h2>\n          {this.renderFollowing()}\n        </section>\n      </div>\n    )\n  }\n\n  renderFollowers() {\n    return (\n      this.props.loggedInUser.followers.length > 0\n        ? \n          <ul className=\"users-list\">\n            {this.props.loggedInUser.followers.map(follower => {\n              return (\n                <li><Link to={`/profile/${follower.username}`}>{follower.username}</Link></li>\n              )\n            })}\n          </ul>\n        : <p>You have no followers yet</p>\n    )\n  }\n\n  renderFollowing() {\n    return (\n      this.props.loggedInUser.following.length > 0\n        ? \n          <ul className=\"users-list\">\n            {this.props.loggedInUser.following.map(userFollowed => {\n              return (\n                <li><Link to={`/profile/${userFollowed.username}`}>{userFollowed.username}</Link></li>\n              )\n            })}\n          </ul>\n        : <p>You don't follow anybody yet.</p>\n    )\n  }\n\n  handleLogout = (e) => {\n    this.props.logout()\n  }\n}\n","import axios from 'axios'\n\nexport default class GenresService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/genres`\n    })\n  }\n\n  getAllGenres = async () => {\n    let allGenres = await this.service.get(\"/\")\n    return allGenres\n  }\n}\n","import axios from \"axios\"\n\n// TODO: Este servicio ya no nos sirve? Ahora las platforms se cargan en APP\nexport default class PlatformsService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/platforms`\n    })\n  }\n\n  platforms = async () => {\n    const platforms = await this.service.get('/')\n    return platforms.data\n  }\n}","import React from 'react';\n\nconst PlatformTag = props => {\n  const { platform: { name, id, _id}, type, onChange, checked } = props;\n  const inputNameAttr = type === \"checkbox\" ? _id : \"platform\"\n\n  return (\n    <>\n      <div className=\"field field-platform-checkbox\">\n        <input \n          id={_id} \n          type={type} \n          name={inputNameAttr}\n          value={id} \n          onChange={onChange} \n          checked={checked}\n        />\n        <label htmlFor={_id}>{name}</label>\n      </div>\n    </>\n  );\n};\n\nexport default PlatformTag;","import React, { Component } from \"react\";\nimport PlatformTag from './../../components/PlatformTag/PlatformTag'\n\nexport default class PlatformsTags extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      platforms: props.platforms,\n      platformsSelected: props.selectedPlatforms || []\n    };\n  }\n\n  handleChange(e) {\n    let newPlatformsSelected = [...this.state.platformsSelected]\n\n    e.target.type === \"checkbox\" && e.target.checked \n      ? newPlatformsSelected.push(+e.target.value) \n      : newPlatformsSelected.pop()\n    \n    if (e.target.type === \"radio\") {\n      newPlatformsSelected = [+e.target.value]\n    }\n\n    this.setState({\n      platformsSelected: newPlatformsSelected,\n    });\n\n    this.props.handlePlatformFilterChange(newPlatformsSelected);\n  }\n  \n  render() {    \n    const { platforms, platformsSelected } = this.state;\n    const { type } = this.props;\n    \n    return (\n      <> \n        {platforms.map(platform => \n          <PlatformTag \n            key={platform.id} \n            type={type}\n            platform={platform} \n            onChange={e => this.handleChange(e)}\n            checked={platformsSelected.includes(platform.id)}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\n\nconst GenreTag = props => {\n  const { genre: { name, id, _id}, type, onChange, checked } = props;\n  const inputNameAttr = type === \"checkbox\" ? _id : \"genre\"\n\n  return (\n    <>\n      <div className=\"field field-genre-checkbox\">\n        <input \n          id={_id} \n          type={type} \n          name={inputNameAttr}\n          value={id} \n          onChange={onChange}\n          checked={checked}\n        />\n        <label htmlFor={_id}>{name}</label>\n      </div>\n    </>\n  );\n};\n\nexport default GenreTag;","import React, { Component } from \"react\";\nimport GenreTag from \"../GenreTag/GenreTag\"\n\nexport default class GenresTags extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      genres: props.genres,\n      genresSelected: props.selectedGenres || [],\n    };\n  }\n\n  handleChange(e) {\n    let newGenresSelected = [...this.state.genresSelected]\n\n    e.target.type === \"checkbox\" && e.target.checked \n      ? newGenresSelected.push(+e.target.value) \n      : newGenresSelected.pop()\n    \n    if (e.target.type === \"radio\") {\n      newGenresSelected = [+e.target.value]\n    }\n\n    this.setState({\n      genreSelected: newGenresSelected,\n    });\n\n    this.props.handleGenreFilterChange(newGenresSelected);\n  }\n  \n  render() {      \n    const { genres, genresSelected } = this.state;\n    const { type } = this.props;\n    \n    return (\n      <> \n        {genres.map(genre => \n          <GenreTag \n            key={genre.id} \n            type={type}\n            genre={genre} \n            onChange={e => this.handleChange(e)} \n            checked={genresSelected.includes(genre.id)}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport PlatformsService from './../../../services/platforms.service'\n\nexport default class Platform extends Component {\n  constructor(props) {\n    super(props)\n    this.service = new PlatformsService()\n    this._isMounted = false\n    \n    this.state = {\n      platforms: props.platforms.platforms,\n      platformsFiltered: props.platforms.platforms,\n      isLoadingPlatforms: props.platforms.isLoadingPlatforms,\n      currentPlatform: props.platforms.currentPlatform\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Platforms</h1>\n        <ul className=\"platforms-list\">\n        {\n          (this.state.platformsFiltered.length > 0)\n          ? (\n            this.state.platformsFiltered.map(platform => {\n              return <li key={platform._id}>{platform.name}</li>\n            })\n          )\n          : null\n        }\n        </ul>\n      </div>\n    )\n  }\n\n  async componentDidMount() {\n    let allPlatforms = await this.service.platforms()\n    if (this._isMounted) {\n      this.setState({\n        ...this.state,\n        platforms: allPlatforms\n      })\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport GameService from './../../../services/games.service'\nimport GenresService from './../../../services/genres.service'\nimport PlatformsService from './../../../services/platforms.service'\nimport PlatformsTags from './../../../components/PlatformsTags/PlatformsTags'\nimport GenresTags from './../../../components/GenresTags/GenresTags'\nimport Platform from '../Platforms/Platforms'\nimport queryString from 'query-string'\n\nexport default class Games extends Component {\n  constructor(props) {\n    super(props)\n\n    this.gamesService = new GameService()\n    this.genresService = new GenresService()\n    this.platformsService = new PlatformsService()\n\n    this.queryParams = queryString.parse(window.location.search)\n\n    this.state = {\n      pagination: {\n        limit: 10,\n        offset: 0,\n        currentPage: 0,\n      },\n      games: props.games\n    }\n  }\n  \n  render() {\n    return (\n      <>\n        {this.renderFilters()}\n        {this.renderGames()}\n      </>\n    )\n  }\n\n  componentDidMount() {}\n\n  async loadNextGames() {\n    this.setState({\n      isLoadingGames: true\n    })\n    \n    let nextPage = this.state.pagination.currentPage + 1\n    let nextOffset = this.state.pagination.limit * nextPage\n    \n    let nextNewGames = await this.gamesService.getGames(this.state.pagination.limit, nextOffset)\n    let newGames = [...this.state.games]\n    let newPagination = {...this.state.pagination}\n    newPagination.offset = nextOffset\n    newPagination.currentPage = nextPage\n    newGames.push(...nextNewGames.data);\n\n    this.setState({\n      pagination: newPagination,\n      games: newGames,\n      isLoadingGames: false\n    })\n  }\n\n  renderFilters() {    \n    return (\n      <section>\n        <form className=\"form games-form\" onSubmit={e => this.handleFormSubmit(e)}>\n\n          <section className=\"form-section\">\n            <h2 className=\"section-title\">Genres</h2>\n            <div className=\"form-section-content form-section-content-tags\">\n              {this.props.genres.isLoadingGenres\n                ?\n                  <p>Loading genres...</p>\n                :\n                <GenresTags \n                  handleGenreFilterChange={this.handleGenreFilterChange}\n                  selectedGenres={this.props.genres.currentGenre}\n                  genres={this.props.genres.genres} \n                  type=\"checkbox\" \n                />\n              }\n            </div>\n          </section>\n\n          <section className=\"form-section\">\n            <h2 className=\"section-title\">Platforms</h2>\n            <div className=\"form-section-content form-section-content-tags\">\n              {this.props.platforms.isLoadingPlatforms\n                ?\n                  <p>Loading platforms...</p>\n                :\n                <PlatformsTags \n                  handlePlatformFilterChange={this.handlePlatformFilterChange} \n                  platforms={this.props.platforms.platforms}\n                  selectedPlatforms={this.props.platforms.currentPlatform}\n                  type=\"checkbox\" \n                />\n              }\n            </div>\n          </section>\n\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"button\">Apply filter</button>\n          </div>\n        </form>\n      </section>\n    )\n  }\n  \n  handleGenreFilterChange = (genresSelected) => {\n    this.props.onGenreFilterChange(genresSelected)\n  }\n  \n  handlePlatformFilterChange = (platformFilter) => {\n    this.props.onPlatformFilterChange(platformFilter)\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault()\n  \n    this.props.onFilterApply();\n  }\n  \n  renderGames() {\n    return (\n      <section className=\"games-results\">\n        <h2 className=\"section-title\">Games</h2>\n        <ul className=\"games-list\">\n          {this.state.games.games.length > 0\n            ? \n            this.state.games.games.map(game => {\n              return <li key={game.id}><Link to={`/games/${game.id}`}>{game.name}</Link></li>\n                \n              })\n            : null\n          }\n        </ul>\n        {/* {this.state.games.isLoadingGames\n          ?\n          <Link className=\"button\" to={\"#\"}>\n              Loading...\n            </Link>\n          :\n          <Link className=\"button\" to={\"#\"} onClick={() => this.loadNextGames()}>\n              Load more\n            </Link>\n        } */}\n      </section>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport GenresService from './../../../services/genres.service'\n\nexport default class Genres extends Component {\n  constructor() {\n    super()\n    this.service = new GenresService()\n    this.state = {\n      isLoadingGenres: true,\n      genres: []\n    }\n  }\n  \n  render() {\n    return (\n      <section className=\"genres-section\">\n        <h1>Genres</h1>\n        <ul className=\"genres-list\">\n          {this.state.genres.length > 0\n            ?\n              this.state.genres.map(genre => {\n                return <li key={genre.id}>{genre.name}</li>\n              })\n            : null\n          }\n\n          {this.state.isLoadingGenres\n            ?\n              <p to={\"#\"}>Loading...</p>\n            : null\n          }\n        </ul>\n      </section>\n    )\n  }\n\n  async componentDidMount() {\n    let allGenres = await this.service.getAllGenres()\n    this.setState({\n      ...this.state,\n      genres: allGenres.data,\n      isLoadingGenres: false\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport ReviewsService from '../../../../services/reviews.service'\nimport queryString from 'query-string'\nimport GamesService from '../../../../services/games.service'\n\nexport default class CreateReview extends Component {\n  constructor(props) {\n    super(props)\n\n    this.reviewsService = new ReviewsService()\n    this.gamesService = new GamesService()\n\n    const queryParams = queryString.parse(window.location.search);\n    \n    this.state = {\n      title: '',\n      platform: '',\n      review: '',\n      history: { content: '', rating: '' },\n      graphics: { content: '', rating: '' },\n      sound: { content: '', rating: '' },\n      gameplay: { content: '', rating: '' },\n      author: props.loggedInUser._id,\n      pros: '',\n      cons: '',\n      gameName: '',\n      isLoadingGameName: true,\n      gameID: queryParams.game ? queryParams.game : ''\n    }\n  }\n  \n  render() {\n    return (\n      <section>\n        <h2>New review</h2>\n        <form onSubmit={(e) => this.handleCreateReviewFormSubmit(e)}>\n          <input type=\"hidden\" name=\"gameID\" value={this.state.gameID}/>\n          <input type=\"hidden\" name=\"gameName\" value={this.state.gameName}/>\n          <div className=\"field\">\n            <input type=\"text\" disabled name=\"game\" id=\"game\" value={this.state.isLoadingGameName ? 'Loading name...' : this.state.gameName} placeholder={\"The game for the review\"}/>\n            <label htmlFor=\"game\" className=\"label\">Game</label>\n          </div>\n          <div className=\"field\">\n            <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.title} name=\"title\" id=\"title\" placeholder=\"Title of the review\" />\n            <label htmlFor=\"title\" className=\"label\">Title</label>\n          </div>\n          <div className=\"field\">\n            <div className=\"platforms-selection\">\n              {this.props.platforms.map(platform => {\n                return (\n                  <div className=\"platforms-selection-tag\" key={platform._id}>\n                    <input type=\"radio\" onClick={e => this.handleInputChange(e)} id={platform._id} name=\"platform\" value={platform._id} />\n                    <label htmlFor={platform._id}>{platform.name}</label>\n                  </div>\n                )\n              })}\n            </div>\n            <label htmlFor=\"platform\" className=\"label\">Platform</label>\n          </div>\n          <div className=\"field\">\n            <textarea name=\"review\" onChange={(e) => this.handleInputChange(e)} value={this.state.review} id=\"review\"></textarea>\n            <label htmlFor=\"review\" className=\"label\">Review content</label>\n          </div>\n          <div className=\"form-section\">\n            <h3>History content</h3>\n            <div className=\"field\">\n              <textarea name=\"historyContent\" onChange={(e) => this.handleInputChange(e, \"history\")} value={this.state.history.content} id=\"history-content\"></textarea>\n              <label htmlFor=\"history-content\">History content</label>\n            </div>\n            <div className=\"field\">\n              <div className=\"stars-validation\">\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"history\")} name=\"historyRating\" value=\"1\" id=\"history-rating-1\"/>\n                <label htmlFor=\"history-rating-1\" className=\"star\">1</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"history\")} name=\"historyRating\" value=\"2\" id=\"history-rating-2\"/>\n                <label htmlFor=\"history-rating-2\" className=\"star\">2</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"history\")} name=\"historyRating\" value=\"3\" id=\"history-rating-3\"/>\n                <label htmlFor=\"history-rating-3\" className=\"star\">3</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"history\")} name=\"historyRating\" value=\"4\" id=\"history-rating-4\"/>\n                <label htmlFor=\"history-rating-4\" className=\"star\">4</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"history\")} name=\"historyRating\" value=\"5\" id=\"history-rating-5\"/>\n                <label htmlFor=\"history-rating-5\" className=\"star\">5</label>\n              </div>\n              <label htmlFor=\"history-rating\" className=\"label\">History rating</label>\n            </div>\n          </div>\n          <div className=\"form-section\">\n            <h3>Graphics content</h3>\n            <div className=\"field\">\n              <textarea name=\"graphicsContent\" onChange={(e) => this.handleInputChange(e, \"graphics\")} value={this.state.graphics.content} id=\"graphic-content\"></textarea>\n              <label htmlFor=\"graphic-content\">Graphic content</label>\n            </div>\n            <div className=\"field\">\n              <div className=\"stars-validation\">\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"graphics\")} name=\"graphicsRating\" value=\"1\" id=\"graphic-rating-1\"/>\n                <label htmlFor=\"graphic-rating-1\" className=\"star\">1</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"graphics\")} name=\"graphicsRating\" value=\"2\" id=\"graphic-rating-2\"/>\n                <label htmlFor=\"graphic-rating-2\" className=\"star\">2</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"graphics\")} name=\"graphicsRating\" value=\"3\" id=\"graphic-rating-3\"/>\n                <label htmlFor=\"graphic-rating-3\" className=\"star\">3</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"graphics\")} name=\"graphicsRating\" value=\"4\" id=\"graphic-rating-4\"/>\n                <label htmlFor=\"graphic-rating-4\" className=\"star\">4</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"graphics\")} name=\"graphicsRating\" value=\"5\" id=\"graphic-rating-5\"/>\n                <label htmlFor=\"graphic-rating-5\" className=\"star\">5</label>\n              </div>\n              <label htmlFor=\"graphic-rating\" className=\"label\">Graphic rating</label>\n            </div>\n          </div>\n          <div className=\"form-section\">\n            <h3>Sound content</h3>\n            <div className=\"field\">\n              <textarea name=\"soundContent\" onChange={(e) => this.handleInputChange(e, \"sound\")} value={this.state.sound.content} id=\"sound-content\"></textarea>\n              <label htmlFor=\"sound-content\">Sound content</label>\n            </div>\n            <div className=\"field\">\n              <div className=\"stars-validation\">\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"sound\")} name=\"soundRating\" value=\"1\" id=\"sound-rating-1\"/>\n                <label htmlFor=\"sound-rating-1\" className=\"star\">1</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"sound\")} name=\"soundRating\" value=\"2\" id=\"sound-rating-2\"/>\n                <label htmlFor=\"sound-rating-2\" className=\"star\">2</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"sound\")} name=\"soundRating\" value=\"3\" id=\"sound-rating-3\"/>\n                <label htmlFor=\"sound-rating-3\" className=\"star\">3</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"sound\")} name=\"soundRating\" value=\"4\" id=\"sound-rating-4\"/>\n                <label htmlFor=\"sound-rating-4\" className=\"star\">4</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"sound\")} name=\"soundRating\" value=\"5\" id=\"sound-rating-5\"/>\n                <label htmlFor=\"sound-rating-5\" className=\"star\">5</label>\n              </div>\n              <label htmlFor=\"sound-rating\" className=\"label\">Sound rating</label>\n            </div>\n          </div>\n          <div className=\"form-section\">\n            <h3>Gameplay content</h3>\n            <div className=\"field\">\n              <textarea name=\"gameplayContent\" onChange={(e) => this.handleInputChange(e, \"gameplay\")} value={this.state.gameplay.content} id=\"gameplay-content\"></textarea>\n              <label htmlFor=\"gameplay-content\">Gameplay content</label>\n            </div>\n            <div className=\"field\">\n              <div className=\"stars-validation\">\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"gameplay\")} name=\"gameplayRating\" value=\"1\" id=\"gameplay-rating-1\"/>\n                <label htmlFor=\"gameplay-rating-1\" className=\"star\">1</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"gameplay\")} name=\"gameplayRating\" value=\"2\" id=\"gameplay-rating-2\"/>\n                <label htmlFor=\"gameplay-rating-2\" className=\"star\">2</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"gameplay\")} name=\"gameplayRating\" value=\"3\" id=\"gameplay-rating-3\"/>\n                <label htmlFor=\"gameplay-rating-3\" className=\"star\">3</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"gameplay\")} name=\"gameplayRating\" value=\"4\" id=\"gameplay-rating-4\"/>\n                <label htmlFor=\"gameplay-rating-4\" className=\"star\">4</label>\n                <input type=\"radio\" onClick={e => this.handleSelectInputChange(e, \"gameplay\")} name=\"gameplayRating\" value=\"5\" id=\"gameplay-rating-5\"/>\n                <label htmlFor=\"gameplay-rating-5\" className=\"star\">5</label>\n              </div>\n              <label htmlFor=\"gameplay-rating\" className=\"label\">Gameplay rating</label>\n            </div>\n          </div>\n          <div className=\"form-section\">\n            <h3>Pros and cons</h3>\n            <div className=\"field\">\n              <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.pros} name=\"pros\" id=\"pros\"/>\n              <label htmlFor=\"pros\" className=\"label\">Pros</label>\n            </div>\n            <div className=\"field\">\n              <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.cons} name=\"cons\" id=\"cons\"/>\n              <label htmlFor=\"cons\" className=\"label\">Cons</label>\n            </div>\n          </div>\n          <div className=\"form-actions\">\n            <input type=\"submit\" value=\"Create\"/>\n          </div>\n        </form>\n      </section>\n    )\n  }\n\n  componentDidMount() {\n    this.loadGameName()\n  }\n\n  async loadGameName() {\n    if (this.state.gameID !== '') {\n      // let gameName = await \n      let gameName = await this.gamesService.getGameName(this.state.gameID)\n      this.setState({\n        ...this.state,\n        gameName: gameName.name,\n        isLoadingGameName: false\n      })\n    }\n  }\n\n  async handleCreateReviewFormSubmit(e) {\n    e.preventDefault()\n    let reviewCreated = await this.reviewsService.createReview(this.state)\n\n    // TODO: Remove the alert for a nice modal\n    if (reviewCreated.created) alert('Review created successfully')\n  }\n\n  handleSelectInputChange(e, category) {\n    let newState = {...this.state}\n\n    if (e.target.name === 'platform') { newState.platform = e.target.value }\n    else { newState[category].rating = +e.target.value }\n\n    this.setState(newState)\n  }\n\n  handleInputChange (e, category) {\n    let newState = {...this.state}\n    if (category) { newState[category].content = e.target.value }\n    else { newState[e.target.name] = e.target.value }\n    this.setState(newState)\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport Moment from 'react-moment'\nimport GamesService from './../../../services/games.service'\nimport {animateScroll as scroll} from 'react-scroll'\n\nclass Game extends Component {\n  constructor(props) {\n    super(props)\n    this.gamesService = new GamesService()\n    \n    this.state = {\n      gameID: props.match.params.gameID,\n      game: {},\n      isLoadingGame: true\n    }\n\n    console.log(\"THEH STATETETETETE\", this.state)\n  }\n  \n  render() {    \n    console.log(\"TESTING\", this.props.loggedInUser.savedGames.indexOf(+this.state.gameID))\n    return (\n      <section className=\"game\">\n        {\n          this.props.loggedInUser.savedGames.indexOf(+this.state.gameID) < 0\n            ? <button className=\"button\" onClick={() => this.props.handleFollowRequest(this.state.gameID)}>Follow</button>\n            : <button className=\"button\" onClick={() => this.props.handleUnfollowRequest(this.state.gameID)}>Unfollow</button>\n        }\n        {\n          this.state.isLoadingGame\n            ? <p>Loading game info...</p>\n            : this.renderGame()\n        }\n      </section>\n    )\n  }\n\n  componentDidMount() {\n    this.loadGame(this.state.gameID)\n  }\n\n  componentWillReceiveProps(nextProps, state) {\n    if (nextProps.match.params.gameID !== state.gameID) {      \n      this.loadGame(nextProps.match.params.gameID, true)\n      // scroll.scrollToTop({\n      //   duration: 750\n      // })\n    }\n  }\n\n  renderTemplate() {\n\n  }\n\n  renderGame() {\n    return (\n      <section className=\"game-enter\">\n        {this.renderHeader()}\n        {this.renderIAmFollowing()}\n        {this.state.game.summary ? this.renderSummary() : null}\n        {this.state.game.storyline ? this.renderStoryLine() : null}\n        {this.state.game.game_modes ? this.renderGameModes() : null}\n        {this.state.game.genres ? this.renderGameGenres() : null}\n        {this.state.game.screenshots ? this.renderScreenshots() : null}\n        {this.state.game.videos ? this.renderVideos() : null}\n        {this.state.game.release_dates ? this.renderReleaseDates() : null}\n        {this.state.game.websites ? this.renderWebsites() : null}\n        {this.state.game.similar_games ? this.renderSimilarGames() : null}\n      </section>\n    )\n  }\n\n  renderHeader() {\n    return (\n      <header className=\"game-header\">\n        <div className=\"game-header-image\">\n          {\n            this.state.game.cover\n              ? <img src={`http:${this.state.game.cover.url.replace('t_thumb', 't_cover_small_2x')}`} alt={this.state.game.name}/>\n              : null\n          }\n        </div>\n        <div className=\"game-header-info\">\n          <h2 className=\"game-title\">{this.state.game.name}</h2>\n          <div className=\"game-platforms\">\n            {this.state.game.platforms ? this.renderPlatforms() : null}\n          </div>\n        </div>\n      </header>\n    )\n  }\n\n  renderIAmFollowing() {\n    return (\n      <div className=\"game-actions\">\n        <div>\n          <span className=\"game-actions-status\">Following</span>\n          <span className=\"game-actions-rating\">\n            {this.state.game.total_rating \n              ? \n                (this.state.game.total_rating / 10).toFixed(1)\n              : \"-\"\n            }\n          </span>\n        </div>\n        <div>\n          <Link className=\"button chatRoom\" to={`/room?room=${this.state.game.slug}`}>Game chat room</Link>\n        </div>\n      </div>\n    )\n  }\n\n  renderSummary() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Summary</h3>\n        <div className=\"game-section-content\">\n          <p>{this.state.game.summary}</p>\n        </div>\n      </section>\n    )\n  }\n\n  renderStoryLine() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Story line</h3>\n        <p>{this.state.game.storyline}</p>\n      </section>\n    )\n  }\n\n  renderPlatforms() {\n    return (\n      this.state.game.platforms.map(platform => {\n        return <Link to={`/games?platform=${platform.id}`} key={platform.id} className=\"tag\">{platform.name}</Link>\n      })\n    )\n  }\n\n  renderGameModes() {\n    return (\n      <section className=\"game-section\">\n          <h3 className=\"section-title\">Modes</h3>\n          <div className=\"game-section-content\">\n            <ul>\n              {this.state.game.game_modes.map(gameMode => {\n                return <li key={gameMode.id}>{gameMode.name}</li>\n              })}\n            </ul>\n          </div>\n        </section>\n    )\n  }\n\n  renderGameGenres() {\n    return (\n      <section className=\"game-section\">\n          <h3 className=\"section-title\">Genres</h3>\n          <div className=\"game-section-content\">\n            <ul>\n              {this.state.game.genres.map(genre => {\n                return (\n                  <li key={genre.id}>\n                    <Link to={`/games?genres=${genre}`}>{genre.name}</Link>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        </section>\n    )\n  }\n\n  renderInvolvedCompanies() {\n    return (\n      <ul>\n        {this.state.game.involved_companies.map(company => {\n          return (\n            <li key={company.id}>{company.name}</li>\n          )\n        })}\n      </ul>\n    )\n  }\n  \n  renderScreenshots() {\n    return (\n      <section className=\"game-section \">\n          <h3 className=\"section-title\">Screenshots</h3>\n          <div className=\"game-section-content scrollable-section\">\n            <ul>\n              {this.state.game.screenshots.map(screenshot => {\n                return (\n                  <li key={screenshot.id}>\n                    <img src={`http:${screenshot.url.replace('t_thumb', 't_screenshot_big')}`} alt={`${this.state.game.name} screenshot`}/>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        </section>\n    )\n  }\n\n  renderVideos() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Videos</h3>\n        <div className=\"game-section-content scrollable-section\">\n          <ul>\n            {this.state.game.videos.map(video => {\n              return (\n                <li key={video.id}>\n                  <iframe\n                    \n                    src={`https://www.youtube.com/embed/${video.video_id}`}\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen></iframe>\n                  <p>{video.name}</p>\n                </li>\n              )\n            })}\n          </ul>\n        </div>\n      </section>\n    )\n  }\n\n  renderReleaseDates() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Release dates</h3>\n        <section className=\"game-subsection\">\n          <h4>First release date</h4>\n          <p>\n            <Moment format='MMMM Do YYYY'>{new Date(this.state.game.first_release_date * 1000)}</Moment>\n          </p>\n        </section>\n        <section className=\"game-subsection\">\n          <h4>Other release dates</h4>\n          {this.state.game.release_dates.map(releaseDate => {\n            return (\n              <li key={releaseDate.id}>\n                <Moment format='MMMM Do YYYY'>{new Date(new Date(releaseDate.date * 1000))}</Moment>\n              </li>\n            )\n          })}\n        </section>\n      </section>\n    )\n  }\n\n  renderWebsites() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Websites</h3>\n        <div className=\"game-section-content\">\n          <ul>\n            {this.state.game.websites.map(website => {\n              return (\n                <li key={website.id}><a href={`${website.url}`} target=\"_blank\">{website.url}</a></li>\n              )\n            })}\n          </ul>\n        </div>\n      </section>\n    )\n  }\n\n  renderSimilarGames() {\n    return (\n      <section className=\"game-section\">\n        <h3 className=\"section-title\">Similar games</h3>\n        <div className=\"game-section-content\">\n          {this.state.game.similar_games.map(similarGame => {\n            return (\n              <Link to={`/games/${similarGame.id}`} key={similarGame.id}>\n                <li>\n                  {\n                    similarGame.cover\n                      ? <img src={`http:${similarGame.cover.url.replace('t_thumb', 't_cover_small_2x')}`} alt={`${similarGame.name}`}/>\n                      : null\n                  }\n                  <p>{similarGame.name}</p>\n                </li>\n              </Link>\n            )\n          })}\n        </div>\n      </section>\n    )\n  }\n\n  async loadGame(gameID, reRender) {\n    this.setState({ ...this.state, isLoadingGame: true })\n    let game = await this.gamesService.getGameData(gameID)\n    if (reRender) {\n      setTimeout(() => {\n        this.setState({ isLoadingGame: false, game: game[0] })\n      }, 500)\n    } else {\n      this.setState({ isLoadingGame: false, game: game[0] })\n    }\n  }\n\n  async loadRelatedGames() {\n    \n  }\n}\n\nexport default withRouter(Game)\n","import axios from 'axios'\n\nexport default class ReviewCommentsService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/reviewComments`\n    })\n  }\n\n  loadComments = async (offset, limit, reviewID) => {\n    let comments = await this.service.get(`/?reviewID=${reviewID}`)\n    return comments.data\n  }\n\n  addComment = async (comment) => {\n    let makeCommentResult = await this.service.post(`/add`, comment)\n    return makeCommentResult.data\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport ReviewsService from '../../../../services/reviews.service'\nimport ReviewCommentsService from './../../../../services/reviewComments.service'\nimport GamesService from '../../../../services/games.service'\n\nexport default class Review extends Component {\n  constructor(props) {\n    super(props)\n\n    this.reviewsService = new ReviewsService()\n    this.reviewCommentsService = new ReviewCommentsService()\n    this.gamesService = new GamesService()\n\n    this.state = {\n      review: null,\n      gameCoverURL: null,\n      isLoadingCover: true,\n      isLoadingReview: [],\n      comment: { content: '', authorID: this.props.loggedInUserID, reviewID: this.props.match.params.reviewID },\n      comments: {\n        comments: [], isLoadingComments: true,\n        pagination: { currentPage: 0, offset: 0, limit: 10 }\n      },\n    }\n  }\n  \n  render() {\n    return (\n      <section className=\"review\">\n        {\n          this.state.isLoadingReview\n            ? <p>Loading review...</p>\n            : this.renderReview()\n        }\n      </section>\n    )\n  }\n\n  componentDidMount() {\n    this.loadReviewData()\n    this.loadComments()\n  }\n\n  async loadGameCover(gameID) {\n    let gameCoverURL = await this.gamesService.getGameCover(gameID)\n    this.setState({ gameCoverURL, isLoadingCover: false })\n  }\n\n  async loadReviewData() {\n    let reviewData = await this.reviewsService.getReviewData(this.props.match.params.reviewID)\n    this.loadGameCover(reviewData.gameID)\n    this.setState({ ...this.state, review: reviewData, isLoadingReview: false })\n  }\n\n  async loadComments() {\n    let newComments = {...this.state.comments}\n    newComments.isLoadingComments = true\n    \n    let comments = await this.reviewCommentsService.loadComments(this.state.comments.pagination.offset, this.state.comments.pagination.limit, this.state.comment.reviewID)\n\n    newComments.pagination.pagcurrentPage += 1;\n    newComments.pagination.offset = newComments.pagination.currentPage * newComments.pagination.limit\n    newComments.comments = comments.comments\n    newComments.isLoadingComments = false\n\n    this.setState({ ...this.state, comments: newComments })\n  }\n\n  renderReview() {\n    return (\n      <>\n        <header>\n          <div>\n            {\n              this.state.isLoadingCover\n                ? <p>Loading cover...</p>\n                : <img src={`http:${this.state.gameCoverURL}`} alt={this.state.review.title} />\n            }\n          </div>\n          <div>\n            <p>{this.state.review.platform.name}</p>\n            <h2>{this.state.review.gameName} <Link to={`/games/${this.state.review.gameID}`}>View</Link></h2>\n            {\n              this.props.loggedInUserName === this.state.review.author.username\n                ? <p>by <Link to={`/profile`}>me</Link></p>\n                : <p>by <Link to={`/profile/${this.state.review.author.username}`}>{this.state.review.author.username}</Link></p>\n            }\n          </div>\n        </header>\n        <section className=\"review-stats\">\n          <div>\n            <p><strong><span>{this.state.review.followers.length}</span></strong> users follow this review</p>\n          </div>\n          <div className=\"following-and-rating\">\n            {\n              // this.props.loggedInUser.savedReviews.indexOf(this.state.review._id) >= 0\n              this.state.review.followers.indexOf(this.props.loggedInUser._id) >= 0\n                ? <button onClick={() => this.handleUnfollowReview()}>Unfollow</button>\n                : <button onClick={() => this.handleFollowReview()}>Follow</button>\n            }\n            <div className=\"rating\">\n              <span>{this.state.review.totalRating}</span>\n            </div>\n          </div>\n        </section>\n        <section>\n          <h2>{this.state.review.title}</h2>\n          <p>{this.state.review.review}</p>\n          <section>\n            <h3>History</h3>\n            <p>{this.state.review.history.content}</p>\n            <span className=\"category-rating\">{this.state.review.history.rating}</span>\n          </section>\n          <section>\n            <h3>Gameplay</h3>\n            <p>{this.state.review.gameplay.content}</p>\n            <span className=\"category-rating\">{this.state.review.gameplay.rating}</span>\n          </section>\n          <section>\n            <h3>Graphics</h3>\n            <p>{this.state.review.graphics.content}</p>\n            <span className=\"category-rating\">{this.state.review.graphics.rating}</span>\n          </section>\n          <section>\n            <h3>Sound</h3>\n            <p>{this.state.review.sound.content}</p>\n            <span className=\"category-rating\">{this.state.review.sound.rating}</span>\n          </section>\n        </section>\n        <section className=\"comments\">\n          <h2>Comments</h2>\n          {this.renderComments()}\n        </section>\n      </>\n    )\n  }\n\n  renderComments() {\n    return (\n      <>\n        <form className=\"comment-form\" onSubmit={e => this.handleFormSubmit(e)}>\n          <div className=\"field\">\n            <textarea onChange={(e) => this.handleCommentChange(e)} type=\"text\" name=\"content\" placeholder=\"Write a comment\" value={this.state.comment.content} id=\"comment-text\"></textarea>\n            <label htmlFor=\"comment-text\" className=\"label\">Comment</label>\n          </div>\n          <div className=\"form-actions\">\n            <input type=\"submit\" value=\"Send\"/>\n          </div>\n        </form>\n        <div className=\"user-comments\">\n          {\n            this.state.comments.comments.length > 0\n              ? this.state.comments.comments.map((comment) => {\n                  return (\n                    <div className=\"comment\" key={comment._id}>\n                      <div className=\"comment-user\">\n                        <p><strong>User: </strong>{comment.authorID.username}</p>\n                      </div>\n                      <div className=\"comment-content\">\n                        {comment.content}\n                      </div>\n                    </div>\n                  )\n                })\n              : <p>There are no comments yet.</p>\n          }\n        </div>\n        <div className=\"comments-load-more\">\n          {\n            this.state.comments.isLoadingComments\n              ? <Link to={\"\"}>Loading...</Link>\n              : <Link onClick={() => this.loadComments()} to={\"#\"}>Load more</Link>\n          }\n        </div>\n      </>\n    )\n  }\n\n  async handleFollowReview() {\n    let reviewFollowRequest = await this.reviewsService.follow(this.state.review._id, this.props.loggedInUser._id)\n    if (reviewFollowRequest.reviewFollowRequestDone) {\n      let newReview = {...this.state.review}\n      newReview.followers = reviewFollowRequest.reviewFollow.followers\n      this.setState({ ...this.state, review: newReview })\n    }\n  }\n\n  async handleUnfollowReview() {\n    let reviewUnfollowRequest = await this.reviewsService.unfollow(this.state.review._id, this.props.loggedInUser._id)\n    if (reviewUnfollowRequest.reviewUnfollowRequestDone) {\n      let newReview = {...this.state.review}\n      newReview.followers = reviewUnfollowRequest.review.followers\n      this.setState({ ...this.state, review: newReview })\n    }\n  }\n\n  handleCommentChange(e) {\n    let newComment = {...this.state.comment}\n    newComment[e.target.name] = e.target.value\n    this.setState({ ...this.state, comment: newComment })\n  }\n\n  async handleFormSubmit(e) {\n    e.preventDefault()\n    let commentAdded = await this.reviewCommentsService.addComment(this.state.comment)\n    \n    if (commentAdded.commentCreated) {\n      let newComments = {...this.state.comments}\n      newComments.comments.unshift(commentAdded.commentCreated)\n      this.setState({ ...this.state, comments: newComments })\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport ReviewsService from '../../../services/reviews.service'\nimport ReviewTile from '../../../components/ReviewTile/ReviewTile'\n\nexport default class Saved extends Component {\n  constructor(props) {\n    super(props)\n    this.reviewsService = new ReviewsService()\n    this.state = {\n      savedReviews: [],\n      isLoadingSavedReviews: true,\n      savedGames: [],\n      isLoadingSavedGames: true\n    }\n  }\n  \n  render() {\n    return (\n      <section className=\"saved\">\n        <h2 className=\"section-title\">Saved reviews</h2>\n        {this.renderSavedReviews()}\n      </section>\n    )\n  }\n\n  componentDidMount() {\n    this.loadSavedReviews()\n  }\n\n  renderSavedReviews() {\n    return (\n      <>\n        {\n          this.state.isLoadingSavedReviews\n            ? <p>Loading saved reviews...</p>\n            :\n              <ul>\n                {\n                this.state.savedReviews.map(savedReview => {\n                  return (\n                    <Link to={`/reviews/${savedReview._id}`} key={savedReview._id}>\n                      <ReviewTile key={savedReview._id} gameTile={savedReview} />\n                    </Link>\n                  )\n                })\n              }\n              </ul>\n        }\n      </>\n    )\n  }\n\n  async loadSavedReviews() {\n    let savedReviews = await this.reviewsService.getReviewsPerUser(this.props.loggedInUser._id)\n    this.setState({ ...this.state, savedReviews: savedReviews, isLoadingSavedReviews: false })\n  }\n}\n","import React, { Component } from 'react'\nimport io from 'socket.io-client'\nimport queryString from 'query-string'\n\nexport default class Room extends Component {\n  constructor(props) {\n    super(props)\n    this.queryParams = queryString.parse(window.location.search)\n    this.socket = io(`${process.env.REACT_APP_SERVER_BASE_URL}`)\n    this.state = {\n      message: '',\n      currentOnlineUsers: [],\n      messages: []\n    }\n  }\n  \n  render() {\n    return (\n      <section className=\"room\">\n        <h1>Room</h1>\n        <div className=\"chat\">\n          <div className=\"chat-users\">\n            {\n              this.state.currentOnlineUsers.length > 0\n                ?\n                  <ul className=\"chat-users-list\">\n                    {this.state.currentOnlineUsers.map(onlineUser => {\n                      return (\n                        <li key={onlineUser.username}>{onlineUser.username}</li>\n                      )\n                    })}\n                  </ul>\n                : null\n            }\n          </div>\n          {\n            this.state.messages.length > 0\n              ?\n                <ul className=\"chat-messages\">\n                  {this.state.messages.map((message, idx) => {\n                    return (\n                      <li key={idx}>{message.content}</li>\n                    )\n                  })}\n                </ul>\n              : null\n          }\n        </div>\n        <form onSubmit={(e) => this.handleFormSubmit(e)}>\n          <div className=\"field\">\n            <input type=\"text\" name=\"message\" id=\"message\" onChange={(e) => this.handleInputChange(e)} value={this.state.message} placeholder=\"Type here your message\"/>\n          </div>\n          <div className=\"form-actions\">\n            <input type=\"submit\" value=\"Send message\"/>\n          </div>\n        </form>\n      </section>\n    )\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault()\n    // Sent a message to the others users in the room\n    this.socket.emit('user-send-message-room', { content: this.state.message, room: this.queryParams.room })\n    this.setState({ ...this.state, message: '' })\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      message: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    // User connects to a room\n    this.socket.emit('user-join-room', { username: this.props.loggedInUser.username, room: this.queryParams.room })\n\n    // Get the room messages\n    this.socket.on('get-room-messages', (data) => {\n      this.setState({ ...this.state, messages: data.messages })\n    })\n\n    // Rest of users recieve that someone connected to their room\n    this.socket.on('user-join-room', (data) => {\n      this.setState({ ...this.state, currentOnlineUsers: data.currentOnlineUsers })\n    })\n\n    // Other users detect that someone sent a message\n    this.socket.on('user-send-message-room', (data) => {\n      let newMessages = [...this.state.messages]\n      newMessages.push({ username: data.username, content: data.content })\n      this.setState({ ...this.state, messages: newMessages })\n    })\n\n    // Other users detect that someone left the room\n    this.socket.on('user-left-room', (data) => {\n      this.setState({ ...this.state, currentOnlineUsers: data.currentOnlineUsers })\n    })\n\n    // Other users detect that they have to update their current users online list\n    this.socket.on('update-online-users', (data) => {\n      this.setState({ ...this.state, currentOnlineUsers: data.currentOnlineUsers })\n    })\n  }\n\n  componentWillUnmount() {\n    // Stop listening for events\n    this.socket.off('user-join-room')\n    this.socket.off('update-online-users')\n    this.socket.off('user-left-room')\n    this.socket.off('user-send-message-room')\n    \n    // Send to the other users that someone left the room\n    this.socket.emit('user-left-room', { username: this.props.loggedInUser.username })\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  d: \"M15.4989.5008c-1.5672.0146-2.855.2356-3.8622.6565-1.0445.4367-2.1625 1.2429-3.3448 2.4194-.5133.5202-1.0796 1.148-1.6975 1.8825l-.1396.166-.2166.0114-3.6117.1896L.5517 9.3847l.4475.4475 2.884-.889 3.1792 3.181-.0885.2877-.8002 2.5982.4457.4483 3.5564-2.0733.2023-3.8334.1657-.1396c.7365-.621 1.3635-1.1872 1.878-1.6957 1.1196-1.1267 1.9104-2.252 2.3767-3.3738.4475-1.0768.6823-2.3568.7004-3.8418zM.9032 9.8618a.397.397 0 00-.0122.0038l.0122-.0038zm12.3206-6.2654c0 .2432-.0911.4648-.2629.637-.1718.1718-.3936.2633-.637.2633-.2435 0-.4652-.0915-.637-.2634-.1718-.1719-.2631-.3935-.2631-.6369s.0913-.465.2631-.6369c.1718-.172.3935-.2633.637-.2633.2433 0 .4652.0914.6373.2636.1715.1719.2626.3934.2626.6366z\"\n});\n\nvar SvgRocket = function SvgRocket(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRocket, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/rocket.eadf8303.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  d: \"M1.2607886 7.02941176h1.90587807V15.5h9.66666663V7.02941176h1.9058781L8 .68662456l-6.7392114 6.3427872z\"\n});\n\nvar SvgHome = function SvgHome(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHome, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/home.aa4a1577.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  fillRule: \"nonzero\",\n  d: \"M12.1951 14.9319l-1.1139-5.0263 3.7415-3.4119-4.9242-.4398L8 1.3387 6.1015 6.0539l-4.9242.4398 3.7415 3.4119-1.114 5.0263L8 12.2666l4.1951 2.6653z\"\n});\n\nvar SvgStar = function SvgStar(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgStar, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star.56ffeb63.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  fillRule: \"nonzero\",\n  d: \"M.5.5v14.6306l5-2.909 5 2.909V.5H.5z\"\n});\n\nvar SvgSaved = function SvgSaved(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 11 16\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSaved, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/saved.e0a76a11.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"translate(1)\"\n}, React.createElement(\"circle\", {\n  cx: 6.5,\n  cy: 3.5,\n  r: 3\n}), React.createElement(\"path\", {\n  d: \"M0 16v-3c0-1.6569 1.3423-3 2.9988-3h7.0024C11.6574 10 13 11.3465 13 13v3\"\n}));\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 15 16\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.04c81516.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport AuthService from './../../services/auth.service'\n\nimport { ReactComponent as Rocket } from './../../assets/icons/rocket.svg'\nimport { ReactComponent as Home } from './../../assets/icons/home.svg'\nimport { ReactComponent as Reviews } from './../../assets/icons/star.svg'\nimport { ReactComponent as Saved } from './../../assets/icons/saved.svg'\nimport { ReactComponent as User } from './../../assets/icons/user.svg'\n\nexport default class Navbar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {loggedInUser : null}\n    this.authService = new AuthService();\n  }\n  \n  render() {\n    return (\n      <nav className=\"navbar\">\n        <ul className=\"main-menu\">\n          {!this.state.loggedInUser\n            ? \n            <>\n                \n              </>\n            :\n            <>\n                <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/\"}><Home />Home</Link></li>\n                <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/games\"}><Rocket />Games</Link></li>\n                <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/reviews\"}><Reviews />Reviews</Link></li>\n                <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/saved\"}><Saved />Saved</Link></li>\n                <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/profile\"}><User />Profile</Link></li>\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/games/coming-soon\"}>Coming Soon</Link></li> */}\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/games/best-rated\"}>Best rated</Link></li> */}\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/games/best-rated\"}>Best rated</Link></li> */}\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/genres\"}>Genres</Link></li> */}\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/platforms\"}>Platforms</Link></li> */}\n                {/* <li className=\"main-menu-item\"><Link className=\"main-menu-link\" to={\"/logout\"} onClick={this.handleLogout}>Logout</Link></li> */}\n              </>\n          }\n        </ul>\n      </nav>\n    )\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      ...this.state,\n      loggedInUser: nextProps[\"userInSession\"] });\n  }\n\n  handleLogout = (e) => {\n    this.props.logout()\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class BestRated extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      bestRated: props.bestRated\n    };\n  }\n\n  render() {\n    return (\n      <section>\n        <h1>Best rated Games</h1>\n        <ul className=\"best-rated-list\">\n          {this.state.bestRated.length > 0\n            ? this.state.bestRated.map(game => {\n                return (\n                  <li key={game.id}>\n                    <Link to={`/games/${game.id}`}>{game.name} ({((game.rating * 5) / 100).toFixed(1)})</Link>\n                  </li>\n                );\n              })\n            : <p>Loading...</p>\n            }\n        </ul>\n      </section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport GamesService from \"./../../../services/games.service\";\n\nexport default class ComingSoon extends Component {\n  constructor(props) {\n    super(props);\n    this.service = new GamesService();\n\n    this.state = {\n      releases: props.releases\n    };\n  }\n\n  render() {\n    return (\n      <>\n        <h1>Releases</h1>\n        {this.render7DaysAgo()}\n        {this.render7Days()}\n        {this.render14Days()}\n        {this.render1Month()}\n        {this.render6Months()}\n        {this.render1Year()}\n      </>\n    );\n  }\n\n  render7DaysAgo() {\n    return (\n      <section>\n        <h2>Recently released</h2>\n\n        {\n          <ul>\n            {this.props.releases.releases7DaysAgo.isLoading7DaysAgo ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases7DaysAgo.releases7DaysAgo.length >\n              0 ? (\n              this.props.releases.releases7DaysAgo.releases7DaysAgo.map(\n                release => {\n                  return (\n                    <li key={release.id}>\n                      {`${release.name} (${new Date(\n                        release.first_release_date * 1000\n                      ).toDateString()})`}\n                    </li>\n                  );\n                }\n              )\n            ) : (\n              <p>No recent releases</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render7Days() {\n    return (\n      <section>\n        <h2>Next 7 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases7Days.isLoading7Days ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases7Days.releases7Days.length > 0 ? (\n              this.props.releases.releases7Days.releases7Days.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No recent releases</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render14Days() {\n    return (\n      <section>\n        <h2>Next 14 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases14Days.isLoading14Days ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases14Days.releases14Days.length > 0 ? (\n              this.props.releases.releases14Days.releases14Days.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 14 days</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render1Month() {\n    return (\n      <section>\n        <h2>Next 30 days</h2>\n        {\n          <ul>\n            {this.props.releases.releases1Month.isLoading1Month ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases1Month.releases1Month.length > 0 ? (\n              this.props.releases.releases1Month.releases1Month.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 30 days</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render6Months() {\n    return (\n      <section>\n        <h2>Next 6 months</h2>\n        {\n          <ul>\n            {this.props.releases.releases6Months.isLoading6Months ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases6Months.releases6Months.length >\n              0 ? (\n              this.props.releases.releases6Months.releases6Months.map(game => {\n                return (\n                  <li key={game.id}>\n                    {`${game.name} (${new Date(\n                      game.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for the next 6 months</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n\n  render1Year() {\n    return (\n      <section>\n        <h2>Next year</h2>\n        {\n          <ul>\n            {this.props.releases.releases1Year.isLoading1Year ? (\n              <p>Loading...</p>\n            ) : this.props.releases.releases1Year.releases1Year.length > 0 ? (\n              this.props.releases.releases1Year.releases1Year.map(release => {\n                return (\n                  <li key={release.id}>\n                    {`${release.name} (${new Date(\n                      release.first_release_date * 1000\n                    ).toDateString()})`}\n                  </li>\n                );\n              })\n            ) : (\n              <p>No releases for next year</p>\n            )}\n          </ul>\n        }\n      </section>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport ReviewsService from './../../../services/reviews.service'\nimport ReviewTile from '../../../components/ReviewTile/ReviewTile'\nimport PlatformsTags from './../../../components/PlatformsTags/PlatformsTags'\n\nexport default class Reviews extends Component {\n  constructor(props) {\n    super(props)\n    this.reviewsService = new ReviewsService()\n    this.state = {\n      reviews: props.reviews,\n      platforms: props.platforms\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {/* {this.renderNewReviewLink()} */}\n        {this.renderReviews()}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    // this.loadReviews(0, 10)\n  }  \n\n  async loadReviews(offset, limit) {\n    let reviews = await this.reviewsService.getReviews(offset, limit);\n    this.setState({\n      ...this.state,\n      reviews: reviews,\n      isLoadingReviews: false\n    });\n  }\n\n  renderNewReviewLink() {\n    return <Link to={\"/reviews/create\"}>Create review</Link>\n  }\n\n  renderReviews() {\n\n    const { platforms: {platforms} } = this.state;\n\n    return (\n      <section>\n        <h2 className=\"section-title\">Reviews</h2>\n\n        {/* TODO: In the future */}\n        {/* <PlatformsTags platforms={platforms} type=\"radio\" /> */}\n\n        <ul>\n          {this.state.reviews.reviewsFiltered.length > 0\n            ?\n              this.state.reviews.reviewsFiltered.map(review => {\n                return (\n                  <Link key={review._id} to={`/reviews/${review._id}`}>\n                    <ReviewTile gameTile={review} />\n                  </Link>\n                )\n              })\n            : null}\n        </ul>\n        {this.state.reviews.isLoadingReviews\n          ?\n            <p>Loading...</p>\n          :\n            <Link to={\"#\"} onClick={this.props.handleLoadMore}>Load more</Link>\n        }\n      </section>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default class SearchBar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      hasFocus: false\n    }\n  }\n  \n  render() {\n    return (\n      <div className=\"search\">\n        <form className=\"search-bar\" onSubmit={(e) => this.handleSearchSubmit(e)}>\n          <div className=\"field search-field\">\n            <input type=\"search\" autoComplete=\"off\" onChange={(e) => this.props.updateSearchText(e.target.value)} name=\"search\" id=\"search\" placeholder=\"Search games, reviews, users...\" onFocus={() => this.openSearchResults()} />\n            {this.state.hasFocus && <span className=\"close-search-results\" onClick={(e) => this.closeSearchResults(e)}>Cancel</span>}\n          </div>\n        </form>\n        {this.state.hasFocus && this.renderSearchResults()}\n      </div>\n    )\n  }\n\n  handleSearchSubmit(e) {\n    e.preventDefault()\n    this.props.makeSearch()\n  }\n\n  renderSearchResults() {\n    return (\n      <div className=\"search-results\">\n        {this.renderGamesResults()}\n        {this.renderReviewsResults()}\n        {this.renderUsersResults()}\n      </div>\n    )\n  }\n\n  openSearchResults() {\n    this.setState({\n      ...this.state,\n      hasFocus: true\n    })\n  }\n\n  closeSearchResults(e) {\n    this.setState({\n      ...this.state,\n      hasFocus: false\n    })\n  }\n\n  renderGamesResults() {\n    return (\n      <section className=\"results\">\n        <h3 className=\"section-title\">Games</h3>\n        {\n          this.props.games.isSearchingGames\n            ? <p>Searching games...</p>\n            : this.props.games.gamesResults.length > 0\n              ? this.props.games.gamesResults.map((gameResult, idx) => {\n                  return <Link key={idx} to={`/games/${gameResult.id}`}><p>{gameResult.name}</p></Link>\n                })\n              : <p>No games</p>\n        }\n      </section>\n    )\n  }\n\n  renderReviewsResults() {\n    return (\n      <section className=\"results\">\n        <h3 className=\"section-title\">Reviews</h3>\n        {\n          this.props.reviews.isSearchingReviews\n            ? <p>Searching reviews...</p>\n            : this.props.reviews.reviewsResults.length > 0\n              ? this.props.reviews.reviewsResults.map((reviewResult, idx) => {\n                return <p>{reviewResult.title}</p>\n                })\n              : <p>No reviews</p>\n        }\n      </section>\n    )\n  }\n\n  renderUsersResults() {\n    return (\n      <section className=\"results\">\n        <h3 className=\"section-title\">Users</h3>\n        {\n          this.props.users.isSearchingUsers\n            ? <p>Searching users...</p>\n            : this.props.users.usersResults.length > 0\n              ? this.props.users.usersResults.map((userResult, idx) => {\n                  return <Link key={idx} to={`/profile/${userResult.username}`}><p>{userResult.username}</p></Link>\n                })\n              : <p>No users</p>\n        }\n      </section>\n    )\n  }\n}\n","import axios from 'axios'\n\nexport default class SearchService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_BASE_URL}/api/search`\n    })\n  }\n\n  makeGamesSearch = async (searchText) => {\n    let gamesSearchResults = await this.service.get(`/games?s=${searchText}`)\n    return gamesSearchResults.data\n  }\n\n  makeReviewsSearch = async (searchText) => {\n    let reviewsSearchResults = await this.service.get(`/reviews?s=${searchText}`)\n    return reviewsSearchResults.data\n  }\n\n  makeUsersSearch = async (searchText) => {\n    let usersSearchResults = await this.service.get(`/users?s=${searchText}`)\n    return usersSearchResults.data\n  }\n}\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Link } from 'react-router-dom'\nimport AuthService from \"./services/auth.service\";\nimport io from 'socket.io-client'\n\n// Pages\nimport Home from \"./pages/Public/Home/Home\";\nimport Login from \"./pages/Auth/Login/Login\";\nimport Signup from \"./pages/Auth/Signup/Signup\";\nimport AccountConfirm from \"./pages/Auth/AccountConfirm/AccountConfirm\";\nimport ForgotPassword from \"./pages/Auth/ForgotPassword/ForgotPassword\";\nimport ResetPassword from \"./pages/Auth/ResetPassword/ResetPassword\";\nimport Error404 from \"./pages/errors/Error404/Error404\";\nimport Profile from \"./pages/private/Profile/Profile\";\nimport LoggedInUserProfile from \"./pages/private/LoggedInUserProfile/LoggedInUserProfile\";\nimport Games from \"./pages/private/Games/Games\";\nimport Genres from \"./pages/private/Genres/Genres\";\nimport Platforms from \"./pages/private/Platforms/Platforms\";\nimport CreateReview from \"./pages/private/Reviews/CreateReview/CreateReview\";\nimport Game from \"./pages/private/Game/Game\";\nimport Review from \"./pages/private/Reviews/Review/Review\";\nimport Saved from \"./pages/private/Saved/Saved\";\nimport Room from \"./pages/private/Room/Room\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\nimport BestRated from \"./pages/private/BestRated/BestRated\";\nimport ComingSoon from \"./pages/private/ComingSoon/ComingSoon\";\nimport Reviews from \"./pages/private/Reviews/Reviews\";\n\n// Services\nimport ReviewsService from \"./services/reviews.service\";\nimport PlatformsService from \"./services/platforms.service\";\nimport GenresService from \"./services/genres.service\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport SearchService from \"./services/search.service\";\nimport GamesService from \"./services/games.service\";\nimport ProfileService from \"./services/profile.service\";\n\n// Styles\nimport './styles/main.scss'\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.authService = new AuthService();\n    this.reviewsService = new ReviewsService()\n    this.platformsService = new PlatformsService()\n    this.genresService = new GenresService()\n    this.searchService = new SearchService()\n    this.gamesService = new GamesService()\n    this.profileService = new ProfileService()\n\n    this.socket = io(`${process.env.REACT_APP_SERVER_BASE_URL}`)\n\n    this.state = {\n      loggedInUser: null,\n      platforms: { isLoadingPlatforms: true, platforms: [], platformsFiltered: [], currentPlatform: null },\n      genres: { isLoadingGenres: true, genres: [], genresFiltered: [], currentGenre: null },\n      games: { isLoadingGames: true, games: [], gamesFiltered: [], currentGame: null },\n      bestRated: { isLoadingBestRated: true, bestRated: [] },\n      releases: {\n        releases7DaysAgo: { isLoading7DaysAgo: true, releases7DaysAgo: [] },\n        releases7Days: { isLoading7Days: true, releases7Days: [] },\n        releases14Days: { isLoading14Days: true, releases14Days: [] },\n        releases1Month: { isLoading1Month: true, releases1Month: [] },\n        releases6Months: { isLoading6Months: true, releases6Months: [] },\n        releases1Year: { isLoading1Year: true, releases1Year: [] }\n      },\n      reviews: { isLoadingReviews: true, reviews: [], reviewsFiltered: [], currentReviewFilter: null, pagination: { currentPage: 0, offset: 0, limit: 10 } },\n      search: {\n        games: { gamesResults: [], isSearchingGames: false },\n        reviews: { reviewsResults: [], isSearchingReviews: false },\n        users: { usersResults: [], isSearchingUsers: false },\n        searchText: \"\",\n        isSearching: false\n      },\n      newFollower: null\n    };\n    this.fetchUser();\n  }\n\n  render() {\n    let routes = []\n    routes = [\n      { exact: true, path: \"/login\", component: () => <Login setUser={this.setUser} /> },\n      { exact: true, path: \"/signup\", component: () => <Signup setUser={this.setUser} /> },\n      { exact: true, path: \"/forgot-password\", component: ForgotPassword },\n      { exact: true, path: \"/reset-password/:resetPasswordToken\", component: ResetPassword },\n      { exact: true, path: \"/update-password/:resetPasswordToken\", component: ResetPassword },\n      { exact: true, path: \"/confirm/:confirmationToken\", component: AccountConfirm },\n      // TODO: 404\n      // { path: '*', component: Error404 }\n    ]\n    if (this.state.loggedInUser) {\n      routes = [\n        { exact: true, path: \"/\", component: () => (<ComingSoon releases={this.state.releases} loggedInUser={this.state.loggedInUser}/>) },\n        {\n          exact: true,\n          path: \"/games\",\n          component: () => (\n            <Games\n              genres={this.state.genres}\n              platforms={this.state.platforms}\n              games={this.state.games}\n              onPlatformFilterChange={(platformsFilter) => this.handlePlatformFilterChange(platformsFilter)}\n              onGenreFilterChange={(genresFilter) => this.handleGenreFilterChange(genresFilter)}\n              onFilterApply={() => this.applyGameFilter()} \n              loggedInUser={this.state.loggedInUser}\n            />\n          ) },\n        { exact: true, path: \"/profile\", component: () => <LoggedInUserProfile loggedInUser={this.state.loggedInUser} logout={this.logout} /> },\n        { exact: true, path: \"/profile/:username\", render: (props) => <Profile {...props} loggedInUser={this.state.loggedInUser} /> },\n        { exact: true, path: \"/genres\", component: () => (<Genres genres={this.state.genres} loggedInUser={this.state.loggedInUser}/>) },\n        { exact: true, path: \"/games/best-rated\", component: () => <BestRated bestRated={this.state.bestRated} loggedInUser={this.state.loggedInUser} /> },\n        { exact: true, path: \"/games/coming-soon\", component: () => (<ComingSoon releases={this.state.releases} loggedInUser={this.state.loggedInUser}/>) },\n        { exact: true, path: \"/games/:gameID\", render: (props) => (<Game handleUnfollowRequest={(gameID) => this.handleUnfollowRequest(gameID)} handleFollowRequest={(gameID) => this.handleFollowRequest(gameID)} loggedInUser={this.state.loggedInUser} />) },\n        { exact: true, path: \"/reviews\", component: () => (<Reviews reviews={this.state.reviews} handleLoadMore={() => this.loadReviews()} platforms={this.state.platforms} loggedInUser={this.state.loggedInUser} />)},\n        { exact: true, path: \"/reviews/create\", component: () => (<CreateReview loggedInUser={this.state.loggedInUser} platforms={this.state.platforms.platforms} />)},\n        { exact: true, path: \"/reviews/:reviewID\", component: props => (<Review {...props} loggedInUserName={this.state.loggedInUser.username} loggedInUserID={this.state.loggedInUser._id} loggedInUser={this.state.loggedInUser} />)},\n        { exact: true, path: \"/saved\", component: props => (<Saved loggedInUser={this.state.loggedInUser} />)},\n        { exact: true, path: \"/platforms\", component: () => (<Platforms platforms={this.state.platforms} loggedInUser={this.state.loggedInUser} />) },\n        { exact: true, path: \"/room\", render: (props) => (<Room {...props} loggedInUser={this.state.loggedInUser} />) },\n        // TODO: 404\n        // { path: '*', component: Error404 }\n      ];\n    }\n    \n    return (\n      <div>\n        {\n          this.state.newFollower !== null\n            ? <p>New follower: <Link to={`/profile/${this.state.newFollower.username}`}>{this.state.newFollower.username}</Link></p>\n            : null\n        }\n        <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n        {\n          !this.state.loggedInUser ? null\n        : <SearchBar\n        makeSearch={() => this.makeSearch()}\n        games={this.state.search.games}\n        reviews={this.state.search.reviews}\n        users={this.state.search.users}\n        updateSearchText={text => this.updateSearchText(text)}\n        isSearching={this.state.search.isSearching}\n      />\n        }\n        <Switch>\n          {routes.map(route => (\n            <Route key={route.path} {...route} />\n          ))}\n        </Switch>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.loadPlatforms();\n    this.loadGenres();\n    this.loadReviews();\n    this.loadGames();\n    this.loadBestRated();\n    this.loadReleases(1, \"releases7DaysAgo\", \"desc\", \"isLoading7DaysAgo\");\n    this.loadReleases(2, \"releases7Days\", \"asc\", \"isLoading7Days\");\n    this.loadReleases(3, \"releases14Days\", \"asc\", \"isLoading14Days\");\n    this.loadReleases(4, \"releases1Month\", \"asc\", \"isLoading1Month\");\n    this.loadReleases(5, \"releases6Months\", \"asc\", \"isLoading6Months\");\n    this.loadReleases(6, \"releases1Year\", \"asc\", \"isLoading1Year\");\n\n    this.socket.on('new-follower', (data) => {\n      if (data.followed._id === this.state.loggedInUser._id) {\n        this.setState({ newFollower: data.follower })\n        setTimeout(() => {\n          this.setState({ newFollower: null })\n        }, 5000)\n      }\n    })\n  }\n\n  handlePlatformFilterChange(platformsFilter) {\n    const { platforms } = this.state\n\n    this.setState({\n      platforms: {\n        ...platforms, \n        currentPlatform: platformsFilter\n      }\n    });\n  }\n\n  handleGenreFilterChange(genresSelected) {\n    const { genres } = this.state\n    this.setState({\n      genres: {\n        ...genres, \n        currentGenre: genresSelected\n      }\n    });\n  }\n\n  async applyGameFilter() {\n    const { currentGenre } = this.state.genres;\n    const { currentPlatform } = this.state.platforms;\n    \n    const gamesFiltered = await this.gamesService.getGamesPerPlatformAndGenre(10, 0, currentPlatform, currentGenre)    \n    const { games } = this.state;\n\n    this.setState({ \n      games: {\n        ...games,\n        games: gamesFiltered,\n      }\n    });\n    \n  }\n  async handleFollowRequest(gameID) {\n    let followRequest = await this.gamesService.follow(gameID, this.state.loggedInUser._id)\n    if (followRequest.gameFollowRequestDone) {\n      console.log(\"CREATEDEDEDE\", followRequest)\n      let updatedLoggedInUser = {...this.state.loggedInUser}\n      updatedLoggedInUser.savedGames = followRequest.follower.savedGames\n      this.setState({ ...this.state, loggedInUser: updatedLoggedInUser })\n    }\n  }\n\n  async handleUnfollowRequest(gameID) {\n    let unfollowRequest = await this.gamesService.unfollow(gameID, this.state.loggedInUser._id)\n    if (unfollowRequest.gameUnfollowRequestDone) {\n      console.log(\"asdasdasdasd\", unfollowRequest.follower)\n      let updatedLoggedInUser = {...this.state.loggedInUser}\n      updatedLoggedInUser.savedGames = unfollowRequest.follower.savedGames\n      this.setState({ ...this.state, loggedInUser: updatedLoggedInUser })\n    }\n  }\n\n\n  handleFollow(followers) {\n    let newLoggedInUser = {...this.state.loggedInUser}\n    newLoggedInUser.followers = followers\n    this.setState({ ...this.state, loggedInUser: newLoggedInUser })\n  }\n\n  async loadPlatforms() {\n    let platforms = await this.platformsService.platforms();\n    let newPlatforms = { ...this.state.platforms };\n    newPlatforms.isLoadingPlatforms = false;\n    newPlatforms.platforms = platforms;\n    newPlatforms.platformsFiltered = platforms;\n\n    this.setState({ ...this.state, platforms: newPlatforms });\n  }\n\n  async loadGenres() {\n    let genres = await this.genresService.getAllGenres();\n    let newGenres = { ...this.state.genres };\n    newGenres.isLoadingGenres = false;\n    newGenres.genres = genres.data;\n    newGenres.genresFiltered = genres.data;\n    this.setState({ ...this.state, genres: newGenres });\n  }\n\n  async loadReviews() {\n    let reviews = await this.reviewsService.getReviews(\n      this.state.reviews.pagination.offset,\n      this.state.reviews.pagination.limit\n    );\n    let newReviews = { ...this.state.reviews };\n    newReviews.isLoadingReviews = false;\n    newReviews.reviews = newReviews.reviews.concat(reviews);\n    newReviews.reviewsFiltered = newReviews.reviewsFiltered.concat(reviews);\n    newReviews.pagination.currentPage += 1;\n    newReviews.pagination.offset =\n      newReviews.pagination.limit * this.state.reviews.pagination.currentPage;\n    this.setState({ ...this.state, reviews: newReviews });\n  }\n\n  updateSearchText(text) {\n    let newSearch = { ...this.state.search };\n    newSearch.searchText = text;\n    this.setState({ ...this.state, search: newSearch });\n  }\n\n  async makeGamesSearch() {\n    let newSearch = { ...this.state.search };\n    newSearch.games.isSearchingGames = true;\n    this.setState({ ...this.state, search: newSearch });\n\n    let gamesResults = await this.searchService.makeGamesSearch(\n      this.state.search.searchText\n    );\n    newSearch.games.gamesResults = gamesResults;\n    newSearch.games.isSearchingGames = false;\n    this.setState({ ...this.state, search: newSearch });\n  }\n\n  async makeReviewsSearch() {\n    let newSearch = { ...this.state.search };\n    newSearch.reviews.isSearchingReviews = true;\n    this.setState({ ...this.state, search: newSearch });\n\n    let reviewsResults = await this.searchService.makeReviewsSearch(\n      this.state.search.searchText\n    );\n    newSearch.reviews.reviewsResults = reviewsResults;\n    newSearch.reviews.isSearchingReviews = false;\n    this.setState({ ...this.state, search: newSearch });\n  }\n\n  async makeUsersSearch() {\n    let newSearch = { ...this.state.search };\n    newSearch.users.isSearchingUsers = true;\n    this.setState({ ...this.state, search: newSearch });\n\n    let usersResults = await this.searchService.makeUsersSearch(\n      this.state.search.searchText\n    );\n    newSearch.users.usersResults = usersResults;\n    newSearch.users.isSearchingUsers = false;\n    this.setState({ ...this.state, search: newSearch });\n  }\n\n  async makeSearch() {\n    this.makeGamesSearch();\n    this.makeReviewsSearch();\n    this.makeUsersSearch();\n  }\n\n  async loadGames() {\n    const games = await this.gamesService.getGames(10, 0);\n\n    let newGames = { ...this.state };\n    newGames.isLoadingGames = false;\n    newGames.games = games.data;\n    newGames.gamesFiltered = games.data;\n\n    this.setState({ ...this.state, games: newGames });\n  }\n\n  async loadBestRated(order = \"desc\") {\n    const bestRated = await this.gamesService.getBestRated(20, 0, order)\n\n    let newState = { ...this.state };\n    newState.bestRated = bestRated.data;\n    this.setState(newState);\n  }\n\n  async loadReleases(period, statePeriod, order = \"asc\", isLoadingKey) {\n    let released = await this.gamesService.getReleases(20, 0, period, order);\n\n    let newState = { ...this.state.releases };\n    newState[statePeriod][statePeriod] = released.data;\n    newState[statePeriod][isLoadingKey] = false;\n    this.setState(newState);\n  }\n\n  fetchUser() {\n    return this.authService\n      .loggedin()\n      .then(response => {\n        this.setState({\n          ...this.state,\n          loggedInUser: response\n        });\n      })\n      .catch(error => {\n        this.setState({\n          ...this.state,\n          loggedInUser: false\n        });\n      });\n  }\n\n  setUser = userObj => {\n    this.setState({\n      ...this.state,\n      loggedInUser: userObj\n    });\n  };\n\n  // TODO: 404 Page not found showed on /logout. Investigate \"withRouter\"\n  logout = () => {\n    this.authService.logout().then(() => {\n      this.setState({ loggedInUser: null });\n    });\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}